shadow$provide.module$node_modules$layout_base$layout_base=function(global,require,module$jscomp$0,exports$jscomp$0){(function(root,factory){"object"===typeof exports$jscomp$0&&"object"===typeof module$jscomp$0?module$jscomp$0.exports=factory():"function"===typeof define&&define.amd?define([],factory):"object"===typeof exports$jscomp$0?exports$jscomp$0.layoutBase=factory():root.layoutBase=factory()})(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;
var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=!0;return module.exports}var installedModules={};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value};__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})};__webpack_require__.n=
function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=26)}([function(module,exports,__webpack_require__){function LayoutConstants(){}LayoutConstants.QUALITY=1;LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED=
!1;LayoutConstants.DEFAULT_INCREMENTAL=!1;LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT=!0;LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT=!1;LayoutConstants.DEFAULT_ANIMATION_PERIOD=50;LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES=!1;LayoutConstants.DEFAULT_GRAPH_MARGIN=15;LayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS=!1;LayoutConstants.SIMPLE_NODE_SIZE=40;LayoutConstants.SIMPLE_NODE_HALF_SIZE=LayoutConstants.SIMPLE_NODE_SIZE/2;LayoutConstants.EMPTY_COMPOUND_NODE_SIZE=40;LayoutConstants.MIN_EDGE_LENGTH=
1;LayoutConstants.WORLD_BOUNDARY=1E6;LayoutConstants.INITIAL_WORLD_BOUNDARY=LayoutConstants.WORLD_BOUNDARY/1E3;LayoutConstants.WORLD_CENTER_X=1200;LayoutConstants.WORLD_CENTER_Y=900;module.exports=LayoutConstants},function(module,exports,__webpack_require__){function LEdge(source,target,vEdge){LGraphObject.call(this,vEdge);this.isOverlapingSourceAndTarget=!1;this.vGraphObject=vEdge;this.bendpoints=[];this.source=source;this.target=target}var LGraphObject=__webpack_require__(2),IGeometry=__webpack_require__(8),
IMath=__webpack_require__(9);LEdge.prototype=Object.create(LGraphObject.prototype);for(var prop in LGraphObject)LEdge[prop]=LGraphObject[prop];LEdge.prototype.getSource=function(){return this.source};LEdge.prototype.getTarget=function(){return this.target};LEdge.prototype.isInterGraph=function(){return this.isInterGraph};LEdge.prototype.getLength=function(){return this.length};LEdge.prototype.isOverlapingSourceAndTarget=function(){return this.isOverlapingSourceAndTarget};LEdge.prototype.getBendpoints=
function(){return this.bendpoints};LEdge.prototype.getLca=function(){return this.lca};LEdge.prototype.getSourceInLca=function(){return this.sourceInLca};LEdge.prototype.getTargetInLca=function(){return this.targetInLca};LEdge.prototype.getOtherEnd=function(node){if(this.source===node)return this.target;if(this.target===node)return this.source;throw"Node is not incident with this edge";};LEdge.prototype.getOtherEndInGraph=function(node,graph){node=this.getOtherEnd(node);for(var root=graph.getGraphManager().getRoot();;){if(node.getOwner()==
graph)return node;if(node.getOwner()==root)break;node=node.getOwner().getParent()}return null};LEdge.prototype.updateLength=function(){var clipPointCoordinates=Array(4);this.isOverlapingSourceAndTarget=IGeometry.getIntersection(this.target.getRect(),this.source.getRect(),clipPointCoordinates);this.isOverlapingSourceAndTarget||(this.lengthX=clipPointCoordinates[0]-clipPointCoordinates[2],this.lengthY=clipPointCoordinates[1]-clipPointCoordinates[3],1>Math.abs(this.lengthX)&&(this.lengthX=IMath.sign(this.lengthX)),
1>Math.abs(this.lengthY)&&(this.lengthY=IMath.sign(this.lengthY)),this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*this.lengthY))};LEdge.prototype.updateLengthSimple=function(){this.lengthX=this.target.getCenterX()-this.source.getCenterX();this.lengthY=this.target.getCenterY()-this.source.getCenterY();1>Math.abs(this.lengthX)&&(this.lengthX=IMath.sign(this.lengthX));1>Math.abs(this.lengthY)&&(this.lengthY=IMath.sign(this.lengthY));this.length=Math.sqrt(this.lengthX*this.lengthX+this.lengthY*
this.lengthY)};module.exports=LEdge},function(module,exports,__webpack_require__){module.exports=function(vGraphObject){this.vGraphObject=vGraphObject}},function(module,exports,__webpack_require__){function LNode(gm,loc,size,vNode){null==size&&null==vNode&&(vNode=loc);LGraphObject.call(this,vNode);null!=gm.graphManager&&(gm=gm.graphManager);this.estimatedSize=Integer.MIN_VALUE;this.inclusionTreeDepth=Integer.MAX_VALUE;this.vGraphObject=vNode;this.edges=[];this.graphManager=gm;this.rect=null!=size&&
null!=loc?new RectangleD(loc.x,loc.y,size.width,size.height):new RectangleD}var LGraphObject=__webpack_require__(2),Integer=__webpack_require__(10),RectangleD=__webpack_require__(13),LayoutConstants=__webpack_require__(0),RandomSeed=__webpack_require__(16),PointD=__webpack_require__(4);LNode.prototype=Object.create(LGraphObject.prototype);for(var prop in LGraphObject)LNode[prop]=LGraphObject[prop];LNode.prototype.getEdges=function(){return this.edges};LNode.prototype.getChild=function(){return this.child};
LNode.prototype.getOwner=function(){return this.owner};LNode.prototype.getWidth=function(){return this.rect.width};LNode.prototype.setWidth=function(width){this.rect.width=width};LNode.prototype.getHeight=function(){return this.rect.height};LNode.prototype.setHeight=function(height){this.rect.height=height};LNode.prototype.getCenterX=function(){return this.rect.x+this.rect.width/2};LNode.prototype.getCenterY=function(){return this.rect.y+this.rect.height/2};LNode.prototype.getCenter=function(){return new PointD(this.rect.x+
this.rect.width/2,this.rect.y+this.rect.height/2)};LNode.prototype.getLocation=function(){return new PointD(this.rect.x,this.rect.y)};LNode.prototype.getRect=function(){return this.rect};LNode.prototype.getDiagonal=function(){return Math.sqrt(this.rect.width*this.rect.width+this.rect.height*this.rect.height)};LNode.prototype.getHalfTheDiagonal=function(){return Math.sqrt(this.rect.height*this.rect.height+this.rect.width*this.rect.width)/2};LNode.prototype.setRect=function(upperLeft,dimension){this.rect.x=
upperLeft.x;this.rect.y=upperLeft.y;this.rect.width=dimension.width;this.rect.height=dimension.height};LNode.prototype.setCenter=function(cx,cy){this.rect.x=cx-this.rect.width/2;this.rect.y=cy-this.rect.height/2};LNode.prototype.setLocation=function(x,y){this.rect.x=x;this.rect.y=y};LNode.prototype.moveBy=function(dx,dy){this.rect.x+=dx;this.rect.y+=dy};LNode.prototype.getEdgeListToNode=function(to){var edgeList=[],self=this;self.edges.forEach(function(edge){if(edge.target==to){if(edge.source!=self)throw"Incorrect edge source!";
edgeList.push(edge)}});return edgeList};LNode.prototype.getEdgesBetween=function(other){var edgeList=[],self=this;self.edges.forEach(function(edge){if(edge.source!=self&&edge.target!=self)throw"Incorrect edge source and/or target";edge.target!=other&&edge.source!=other||edgeList.push(edge)});return edgeList};LNode.prototype.getNeighborsList=function(){var neighbors=new Set,self=this;self.edges.forEach(function(edge){if(edge.source==self)neighbors.add(edge.target);else{if(edge.target!=self)throw"Incorrect incidency!";
neighbors.add(edge.source)}});return neighbors};LNode.prototype.withChildren=function(){var withNeighborsList=new Set;withNeighborsList.add(this);if(null!=this.child)for(var nodes=this.child.getNodes(),i=0;i<nodes.length;i++){var childNode=nodes[i];childNode=childNode.withChildren();childNode.forEach(function(node){withNeighborsList.add(node)})}return withNeighborsList};LNode.prototype.getNoOfChildren=function(){var noOfChildren=0;if(null==this.child)noOfChildren=1;else for(var nodes=this.child.getNodes(),
i=0;i<nodes.length;i++){var childNode=nodes[i];noOfChildren+=childNode.getNoOfChildren()}0==noOfChildren&&(noOfChildren=1);return noOfChildren};LNode.prototype.getEstimatedSize=function(){if(this.estimatedSize==Integer.MIN_VALUE)throw"assert failed";return this.estimatedSize};LNode.prototype.calcEstimatedSize=function(){if(null==this.child)return this.estimatedSize=(this.rect.width+this.rect.height)/2;this.estimatedSize=this.child.calcEstimatedSize();this.rect.width=this.estimatedSize;return this.rect.height=
this.estimatedSize};LNode.prototype.scatter=function(){var randomCenterX=-LayoutConstants.INITIAL_WORLD_BOUNDARY;var randomCenterY=LayoutConstants.INITIAL_WORLD_BOUNDARY;randomCenterX=LayoutConstants.WORLD_CENTER_X+RandomSeed.nextDouble()*(randomCenterY-randomCenterX)+randomCenterX;randomCenterY=-LayoutConstants.INITIAL_WORLD_BOUNDARY;var maxY=LayoutConstants.INITIAL_WORLD_BOUNDARY;randomCenterY=LayoutConstants.WORLD_CENTER_Y+RandomSeed.nextDouble()*(maxY-randomCenterY)+randomCenterY;this.rect.x=
randomCenterX;this.rect.y=randomCenterY};LNode.prototype.updateBounds=function(){if(null==this.getChild())throw"assert failed";if(0!=this.getChild().getNodes().length){var childGraph=this.getChild();childGraph.updateBounds(!0);this.rect.x=childGraph.getLeft();this.rect.y=childGraph.getTop();this.setWidth(childGraph.getRight()-childGraph.getLeft());this.setHeight(childGraph.getBottom()-childGraph.getTop());if(LayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS){var width=childGraph.getRight()-childGraph.getLeft();
childGraph=childGraph.getBottom()-childGraph.getTop();this.labelWidth>width&&(this.rect.x-=(this.labelWidth-width)/2,this.setWidth(this.labelWidth));this.labelHeight>childGraph&&("center"==this.labelPos?this.rect.y-=(this.labelHeight-childGraph)/2:"top"==this.labelPos&&(this.rect.y-=this.labelHeight-childGraph),this.setHeight(this.labelHeight))}}};LNode.prototype.getInclusionTreeDepth=function(){if(this.inclusionTreeDepth==Integer.MAX_VALUE)throw"assert failed";return this.inclusionTreeDepth};LNode.prototype.transform=
function(trans){var left=this.rect.x;left>LayoutConstants.WORLD_BOUNDARY?left=LayoutConstants.WORLD_BOUNDARY:left<-LayoutConstants.WORLD_BOUNDARY&&(left=-LayoutConstants.WORLD_BOUNDARY);var top=this.rect.y;top>LayoutConstants.WORLD_BOUNDARY?top=LayoutConstants.WORLD_BOUNDARY:top<-LayoutConstants.WORLD_BOUNDARY&&(top=-LayoutConstants.WORLD_BOUNDARY);left=new PointD(left,top);trans=trans.inverseTransformPoint(left);this.setLocation(trans.x,trans.y)};LNode.prototype.getLeft=function(){return this.rect.x};
LNode.prototype.getRight=function(){return this.rect.x+this.rect.width};LNode.prototype.getTop=function(){return this.rect.y};LNode.prototype.getBottom=function(){return this.rect.y+this.rect.height};LNode.prototype.getParent=function(){return null==this.owner?null:this.owner.getParent()};module.exports=LNode},function(module,exports,__webpack_require__){function PointD(x,y){null==x&&null==y?this.y=this.x=0:(this.x=x,this.y=y)}PointD.prototype.getX=function(){return this.x};PointD.prototype.getY=
function(){return this.y};PointD.prototype.setX=function(x){this.x=x};PointD.prototype.setY=function(y){this.y=y};PointD.prototype.getDifference=function(pt){return new DimensionD(this.x-pt.x,this.y-pt.y)};PointD.prototype.getCopy=function(){return new PointD(this.x,this.y)};PointD.prototype.translate=function(dim){this.x+=dim.width;this.y+=dim.height;return this};module.exports=PointD},function(module,exports,__webpack_require__){function LGraph(parent,obj2,vGraph){LGraphObject.call(this,vGraph);
this.estimatedSize=Integer.MIN_VALUE;this.margin=LayoutConstants.DEFAULT_GRAPH_MARGIN;this.edges=[];this.nodes=[];this.isConnected=!1;this.parent=parent;null!=obj2&&obj2 instanceof LGraphManager?this.graphManager=obj2:null!=obj2&&obj2 instanceof Layout&&(this.graphManager=obj2.graphManager)}var LGraphObject=__webpack_require__(2),Integer=__webpack_require__(10),LayoutConstants=__webpack_require__(0),LGraphManager=__webpack_require__(6),LNode=__webpack_require__(3),LEdge=__webpack_require__(1),RectangleD=
__webpack_require__(13),Point=__webpack_require__(12),LinkedList=__webpack_require__(11);LGraph.prototype=Object.create(LGraphObject.prototype);for(var prop in LGraphObject)LGraph[prop]=LGraphObject[prop];LGraph.prototype.getNodes=function(){return this.nodes};LGraph.prototype.getEdges=function(){return this.edges};LGraph.prototype.getGraphManager=function(){return this.graphManager};LGraph.prototype.getParent=function(){return this.parent};LGraph.prototype.getLeft=function(){return this.left};LGraph.prototype.getRight=
function(){return this.right};LGraph.prototype.getTop=function(){return this.top};LGraph.prototype.getBottom=function(){return this.bottom};LGraph.prototype.isConnected=function(){return this.isConnected};LGraph.prototype.add=function(obj1,sourceNode,targetNode){if(null==sourceNode&&null==targetNode){if(null==this.graphManager)throw"Graph has no graph mgr!";if(-1<this.getNodes().indexOf(obj1))throw"Node already in graph!";obj1.owner=this;this.getNodes().push(obj1)}else{if(!(-1<this.getNodes().indexOf(sourceNode)&&
-1<this.getNodes().indexOf(targetNode)))throw"Source or target not in graph!";if(sourceNode.owner!=targetNode.owner||sourceNode.owner!=this)throw"Both owners must be this graph!";if(sourceNode.owner!=targetNode.owner)return null;obj1.source=sourceNode;obj1.target=targetNode;obj1.isInterGraph=!1;this.getEdges().push(obj1);sourceNode.edges.push(obj1);targetNode!=sourceNode&&targetNode.edges.push(obj1)}return obj1};LGraph.prototype.remove=function(obj){if(obj instanceof LNode){if(null==obj)throw"Node is null!";
if(null==obj.owner||obj.owner!=this)throw"Owner graph is invalid!";if(null==this.graphManager)throw"Owner graph manager is invalid!";for(var edgesToBeRemoved=obj.edges.slice(),edge,s=edgesToBeRemoved.length,i=0;i<s;i++)edge=edgesToBeRemoved[i],edge.isInterGraph?this.graphManager.remove(edge):edge.source.owner.remove(edge);obj=this.nodes.indexOf(obj);if(-1==obj)throw"Node not in owner node list!";this.nodes.splice(obj,1)}else if(obj instanceof LEdge){edge=obj;if(null==edge)throw"Edge is null!";if(null==
edge.source||null==edge.target)throw"Source and/or target is null!";if(null==edge.source.owner||null==edge.target.owner||edge.source.owner!=this||edge.target.owner!=this)throw"Source and/or target owner is invalid!";obj=edge.source.edges.indexOf(edge);edgesToBeRemoved=edge.target.edges.indexOf(edge);if(!(-1<obj&&-1<edgesToBeRemoved))throw"Source and/or target doesn't know this edge!";edge.source.edges.splice(obj,1);edge.target!=edge.source&&edge.target.edges.splice(edgesToBeRemoved,1);obj=edge.source.owner.getEdges().indexOf(edge);
if(-1==obj)throw"Not in owner's edge list!";edge.source.owner.getEdges().splice(obj,1)}};LGraph.prototype.updateLeftTop=function(){for(var top=Integer.MAX_VALUE,left=Integer.MAX_VALUE,nodeTop,nodeLeft,nodes=this.getNodes(),s=nodes.length,i=0;i<s;i++)nodeLeft=nodes[i],nodeTop=nodeLeft.getTop(),nodeLeft=nodeLeft.getLeft(),top>nodeTop&&(top=nodeTop),left>nodeLeft&&(left=nodeLeft);if(top==Integer.MAX_VALUE)return null;nodeTop=void 0!=nodes[0].getParent().paddingLeft?nodes[0].getParent().paddingLeft:this.margin;
this.left=left-nodeTop;this.top=top-nodeTop;return new Point(this.left,this.top)};LGraph.prototype.updateBounds=function(recursive){for(var left=Integer.MAX_VALUE,right=-Integer.MAX_VALUE,top=Integer.MAX_VALUE,bottom=-Integer.MAX_VALUE,nodeLeft,nodeRight,nodeTop,nodeBottom,nodes=this.nodes,s=nodes.length,i=0;i<s;i++)nodeBottom=nodes[i],recursive&&null!=nodeBottom.child&&nodeBottom.updateBounds(),nodeLeft=nodeBottom.getLeft(),nodeRight=nodeBottom.getRight(),nodeTop=nodeBottom.getTop(),nodeBottom=nodeBottom.getBottom(),
left>nodeLeft&&(left=nodeLeft),right<nodeRight&&(right=nodeRight),top>nodeTop&&(top=nodeTop),bottom<nodeBottom&&(bottom=nodeBottom);recursive=new RectangleD(left,top,right-left,bottom-top);left==Integer.MAX_VALUE&&(this.left=this.parent.getLeft(),this.right=this.parent.getRight(),this.top=this.parent.getTop(),this.bottom=this.parent.getBottom());left=void 0!=nodes[0].getParent().paddingLeft?nodes[0].getParent().paddingLeft:this.margin;this.left=recursive.x-left;this.right=recursive.x+recursive.width+
left;this.top=recursive.y-left;this.bottom=recursive.y+recursive.height+left};LGraph.calculateBounds=function(nodes){for(var left=Integer.MAX_VALUE,right=-Integer.MAX_VALUE,top=Integer.MAX_VALUE,bottom=-Integer.MAX_VALUE,nodeLeft,nodeRight,nodeTop,nodeBottom,s=nodes.length,i=0;i<s;i++)nodeBottom=nodes[i],nodeLeft=nodeBottom.getLeft(),nodeRight=nodeBottom.getRight(),nodeTop=nodeBottom.getTop(),nodeBottom=nodeBottom.getBottom(),left>nodeLeft&&(left=nodeLeft),right<nodeRight&&(right=nodeRight),top>nodeTop&&
(top=nodeTop),bottom<nodeBottom&&(bottom=nodeBottom);return new RectangleD(left,top,right-left,bottom-top)};LGraph.prototype.getInclusionTreeDepth=function(){return this==this.graphManager.getRoot()?1:this.parent.getInclusionTreeDepth()};LGraph.prototype.getEstimatedSize=function(){if(this.estimatedSize==Integer.MIN_VALUE)throw"assert failed";return this.estimatedSize};LGraph.prototype.calcEstimatedSize=function(){for(var size=0,nodes=this.nodes,s=nodes.length,i=0;i<s;i++)size+=nodes[i].calcEstimatedSize();
return this.estimatedSize=0==size?LayoutConstants.EMPTY_COMPOUND_NODE_SIZE:size/Math.sqrt(this.nodes.length)};LGraph.prototype.updateConnected=function(){var self=this;if(0==this.nodes.length)this.isConnected=!0;else{var queue=new LinkedList,visited=new Set,currentNode=this.nodes[0];for(currentNode.withChildren().forEach(function(node){queue.push(node);visited.add(node)});0!==queue.length;){currentNode=queue.shift();var neighborEdges=currentNode.getEdges();for(var size=neighborEdges.length,i=0;i<
size;i++){var currentNeighbor=neighborEdges[i].getOtherEndInGraph(currentNode,this);null==currentNeighbor||visited.has(currentNeighbor)||currentNeighbor.withChildren().forEach(function(node){queue.push(node);visited.add(node)})}}this.isConnected=!1;if(visited.size>=this.nodes.length){var noOfVisitedInThisGraph=0;visited.forEach(function(visitedNode){visitedNode.owner==self&&noOfVisitedInThisGraph++});noOfVisitedInThisGraph==this.nodes.length&&(this.isConnected=!0)}}};module.exports=LGraph},function(module,
exports,__webpack_require__){function LGraphManager(layout){LGraph=__webpack_require__(5);this.layout=layout;this.graphs=[];this.edges=[]}var LGraph,LEdge=__webpack_require__(1);LGraphManager.prototype.addRoot=function(){var ngraph=this.layout.newGraph(),nnode=this.layout.newNode(null);ngraph=this.add(ngraph,nnode);this.setRootGraph(ngraph);return this.rootGraph};LGraphManager.prototype.add=function(newGraph,parentNode,newEdge,sourceNode,targetNode){if(null==newEdge&&null==sourceNode&&null==targetNode){if(null==
newGraph)throw"Graph is null!";if(null==parentNode)throw"Parent node is null!";if(-1<this.graphs.indexOf(newGraph))throw"Graph already in this graph mgr!";this.graphs.push(newGraph);if(null!=newGraph.parent)throw"Already has a parent!";if(null!=parentNode.child)throw"Already has a child!";newGraph.parent=parentNode;return parentNode.child=newGraph}targetNode=newEdge;sourceNode=parentNode;newEdge=newGraph;newGraph=sourceNode.getOwner();parentNode=targetNode.getOwner();if(null==newGraph||newGraph.getGraphManager()!=
this)throw"Source not in this graph mgr!";if(null==parentNode||parentNode.getGraphManager()!=this)throw"Target not in this graph mgr!";if(newGraph==parentNode)return newEdge.isInterGraph=!1,newGraph.add(newEdge,sourceNode,targetNode);newEdge.isInterGraph=!0;newEdge.source=sourceNode;newEdge.target=targetNode;if(-1<this.edges.indexOf(newEdge))throw"Edge already in inter-graph edge list!";this.edges.push(newEdge);if(null==newEdge.source||null==newEdge.target)throw"Edge source and/or target is null!";
if(-1!=newEdge.source.edges.indexOf(newEdge)||-1!=newEdge.target.edges.indexOf(newEdge))throw"Edge already in source and/or target incidency list!";newEdge.source.edges.push(newEdge);newEdge.target.edges.push(newEdge);return newEdge};LGraphManager.prototype.remove=function(lObj){if(lObj instanceof LGraph){if(lObj.getGraphManager()!=this)throw"Graph not in this graph mgr";if(lObj!=this.rootGraph&&(null==lObj.parent||lObj.parent.graphManager!=this))throw"Invalid parent node!";var edgesToBeRemoved=[];
edgesToBeRemoved=edgesToBeRemoved.concat(lObj.getEdges());for(var edge,s=edgesToBeRemoved.length,i=0;i<s;i++)edge=edgesToBeRemoved[i],lObj.remove(edge);edge=[];edge=edge.concat(lObj.getNodes());s=edge.length;for(i=0;i<s;i++)edgesToBeRemoved=edge[i],lObj.remove(edgesToBeRemoved);lObj==this.rootGraph&&this.setRootGraph(null);s=this.graphs.indexOf(lObj);this.graphs.splice(s,1);lObj.parent=null}else if(lObj instanceof LEdge){edge=lObj;if(null==edge)throw"Edge is null!";if(!edge.isInterGraph)throw"Not an inter-graph edge!";
if(null==edge.source||null==edge.target)throw"Source and/or target is null!";if(-1==edge.source.edges.indexOf(edge)||-1==edge.target.edges.indexOf(edge))throw"Source and/or target doesn't know this edge!";s=edge.source.edges.indexOf(edge);edge.source.edges.splice(s,1);s=edge.target.edges.indexOf(edge);edge.target.edges.splice(s,1);if(null==edge.source.owner||null==edge.source.owner.getGraphManager())throw"Edge owner graph or owner graph manager is null!";if(-1==edge.source.owner.getGraphManager().edges.indexOf(edge))throw"Not in owner graph manager's edge list!";
s=edge.source.owner.getGraphManager().edges.indexOf(edge);edge.source.owner.getGraphManager().edges.splice(s,1)}};LGraphManager.prototype.updateBounds=function(){this.rootGraph.updateBounds(!0)};LGraphManager.prototype.getGraphs=function(){return this.graphs};LGraphManager.prototype.getAllNodes=function(){if(null==this.allNodes){for(var nodeList=[],graphs=this.getGraphs(),s=graphs.length,i=0;i<s;i++)nodeList=nodeList.concat(graphs[i].getNodes());this.allNodes=nodeList}return this.allNodes};LGraphManager.prototype.resetAllNodes=
function(){this.allNodes=null};LGraphManager.prototype.resetAllEdges=function(){this.allEdges=null};LGraphManager.prototype.resetAllNodesToApplyGravitation=function(){this.allNodesToApplyGravitation=null};LGraphManager.prototype.getAllEdges=function(){if(null==this.allEdges){for(var edgeList=[],graphs=this.getGraphs(),i=0;i<graphs.length;i++)edgeList=edgeList.concat(graphs[i].getEdges());this.allEdges=edgeList=edgeList.concat(this.edges)}return this.allEdges};LGraphManager.prototype.getAllNodesToApplyGravitation=
function(){return this.allNodesToApplyGravitation};LGraphManager.prototype.setAllNodesToApplyGravitation=function(nodeList){if(null!=this.allNodesToApplyGravitation)throw"assert failed";this.allNodesToApplyGravitation=nodeList};LGraphManager.prototype.getRoot=function(){return this.rootGraph};LGraphManager.prototype.setRootGraph=function(graph){if(graph.getGraphManager()!=this)throw"Root not in this graph mgr!";this.rootGraph=graph;null==graph.parent&&(graph.parent=this.layout.newNode("Root node"))};
LGraphManager.prototype.getLayout=function(){return this.layout};LGraphManager.prototype.isOneAncestorOfOther=function(firstNode,secondNode){if(null==firstNode||null==secondNode)throw"assert failed";if(firstNode==secondNode)return!0;var ownerGraph=firstNode.getOwner();do{ownerGraph=ownerGraph.getParent();if(null==ownerGraph)break;if(ownerGraph==secondNode)return!0;ownerGraph=ownerGraph.getOwner();if(null==ownerGraph)break}while(1);ownerGraph=secondNode.getOwner();do{ownerGraph=ownerGraph.getParent();
if(null==ownerGraph)break;if(ownerGraph==firstNode)return!0;ownerGraph=ownerGraph.getOwner();if(null==ownerGraph)break}while(1);return!1};LGraphManager.prototype.calcLowestCommonAncestors=function(){for(var edge,sourceNode,targetNode,targetAncestorGraph,edges=this.getAllEdges(),s=edges.length,i=0;i<s;i++)if(edge=edges[i],sourceNode=edge.source,targetNode=edge.target,edge.lca=null,edge.sourceInLca=sourceNode,edge.targetInLca=targetNode,sourceNode==targetNode)edge.lca=sourceNode.getOwner();else{for(sourceNode=
sourceNode.getOwner();null==edge.lca;){edge.targetInLca=targetNode;for(targetAncestorGraph=targetNode.getOwner();null==edge.lca;){if(targetAncestorGraph==sourceNode){edge.lca=targetAncestorGraph;break}if(targetAncestorGraph==this.rootGraph)break;if(null!=edge.lca)throw"assert failed";edge.targetInLca=targetAncestorGraph.getParent();targetAncestorGraph=edge.targetInLca.getOwner()}if(sourceNode==this.rootGraph)break;null==edge.lca&&(edge.sourceInLca=sourceNode.getParent(),sourceNode=edge.sourceInLca.getOwner())}if(null==
edge.lca)throw"assert failed";}};LGraphManager.prototype.calcLowestCommonAncestor=function(firstNode,secondNode){if(firstNode==secondNode)return firstNode.getOwner();firstNode=firstNode.getOwner();do{if(null==firstNode)break;var secondOwnerGraph=secondNode.getOwner();do{if(null==secondOwnerGraph)break;if(secondOwnerGraph==firstNode)return secondOwnerGraph;secondOwnerGraph=secondOwnerGraph.getParent().getOwner()}while(1);firstNode=firstNode.getParent().getOwner()}while(1);return firstNode};LGraphManager.prototype.calcInclusionTreeDepths=
function(graph,depth){null==graph&&null==depth&&(graph=this.rootGraph,depth=1);for(var nodes=graph.getNodes(),s=nodes.length,i=0;i<s;i++)graph=nodes[i],graph.inclusionTreeDepth=depth,null!=graph.child&&this.calcInclusionTreeDepths(graph.child,depth+1)};LGraphManager.prototype.includesInvalidEdge=function(){for(var edge,s=this.edges.length,i=0;i<s;i++)if(edge=this.edges[i],this.isOneAncestorOfOther(edge.source,edge.target))return!0;return!1};module.exports=LGraphManager},function(module,exports,__webpack_require__){function FDLayoutConstants(){}
exports=__webpack_require__(0);for(var prop in exports)FDLayoutConstants[prop]=exports[prop];FDLayoutConstants.MAX_ITERATIONS=2500;FDLayoutConstants.DEFAULT_EDGE_LENGTH=50;FDLayoutConstants.DEFAULT_SPRING_STRENGTH=.45;FDLayoutConstants.DEFAULT_REPULSION_STRENGTH=4500;FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH=.4;FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH=1;FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR=3.8;FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR=1.5;FDLayoutConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION=
!0;FDLayoutConstants.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION=!0;FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL=.3;FDLayoutConstants.COOLING_ADAPTATION_FACTOR=.33;FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT=1E3;FDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT=5E3;FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL=100;FDLayoutConstants.MAX_NODE_DISPLACEMENT=3*FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL;FDLayoutConstants.MIN_REPULSION_DIST=FDLayoutConstants.DEFAULT_EDGE_LENGTH/10;
FDLayoutConstants.CONVERGENCE_CHECK_PERIOD=100;FDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR=.1;FDLayoutConstants.MIN_EDGE_LENGTH=1;FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD=10;module.exports=FDLayoutConstants},function(module,exports,__webpack_require__){function IGeometry(){}var Point=__webpack_require__(12);IGeometry.calcSeparationAmount=function(rectA,rectB,overlapAmount,separationBuffer){if(!rectA.intersects(rectB))throw"assert failed";var directions=Array(2);this.decideDirectionsForOverlappingNodes(rectA,
rectB,directions);overlapAmount[0]=Math.min(rectA.getRight(),rectB.getRight())-Math.max(rectA.x,rectB.x);overlapAmount[1]=Math.min(rectA.getBottom(),rectB.getBottom())-Math.max(rectA.y,rectB.y);rectA.getX()<=rectB.getX()&&rectA.getRight()>=rectB.getRight()?overlapAmount[0]+=Math.min(rectB.getX()-rectA.getX(),rectA.getRight()-rectB.getRight()):rectB.getX()<=rectA.getX()&&rectB.getRight()>=rectA.getRight()&&(overlapAmount[0]+=Math.min(rectA.getX()-rectB.getX(),rectB.getRight()-rectA.getRight()));rectA.getY()<=
rectB.getY()&&rectA.getBottom()>=rectB.getBottom()?overlapAmount[1]+=Math.min(rectB.getY()-rectA.getY(),rectA.getBottom()-rectB.getBottom()):rectB.getY()<=rectA.getY()&&rectB.getBottom()>=rectA.getBottom()&&(overlapAmount[1]+=Math.min(rectA.getY()-rectB.getY(),rectB.getBottom()-rectA.getBottom()));var slope=Math.abs((rectB.getCenterY()-rectA.getCenterY())/(rectB.getCenterX()-rectA.getCenterX()));rectB.getCenterY()===rectA.getCenterY()&&rectB.getCenterX()===rectA.getCenterX()&&(slope=1);rectA=slope*
overlapAmount[0];slope=overlapAmount[1]/slope;overlapAmount[0]<slope?slope=overlapAmount[0]:rectA=overlapAmount[1];overlapAmount[0]=-1*directions[0]*(slope/2+separationBuffer);overlapAmount[1]=-1*directions[1]*(rectA/2+separationBuffer)};IGeometry.decideDirectionsForOverlappingNodes=function(rectA,rectB,directions){rectA.getCenterX()<rectB.getCenterX()?directions[0]=-1:directions[0]=1;rectA.getCenterY()<rectB.getCenterY()?directions[1]=-1:directions[1]=1};IGeometry.getIntersection2=function(rectA,
rectB,result){var p1x=rectA.getCenterX(),p1y=rectA.getCenterY(),p2x=rectB.getCenterX(),p2y=rectB.getCenterY();if(rectA.intersects(rectB))return result[0]=p1x,result[1]=p1y,result[2]=p2x,result[3]=p2y,!0;var topLeftAx=rectA.getX(),topLeftAy=rectA.getY(),topRightAx=rectA.getRight(),bottomLeftAx=rectA.getX(),bottomLeftAy=rectA.getBottom(),bottomRightAx=rectA.getRight(),halfWidthA=rectA.getWidthHalf(),halfHeightA=rectA.getHeightHalf(),topLeftBx=rectB.getX(),topLeftBy=rectB.getY(),topRightBx=rectB.getRight(),
bottomLeftBx=rectB.getX(),bottomLeftBy=rectB.getBottom(),bottomRightBx=rectB.getRight(),halfWidthB=rectB.getWidthHalf(),halfHeightB=rectB.getHeightHalf(),clipPointAFound=!1,clipPointBFound=!1;if(p1x===p2x)p1y>p2y?(result[0]=p1x,result[1]=topLeftAy,result[2]=p2x,result[3]=bottomLeftBy):p1y<p2y&&(result[0]=p1x,result[1]=bottomLeftAy,result[2]=p2x,result[3]=topLeftBy);else if(p1y===p2y)p1x>p2x?(result[0]=topLeftAx,result[1]=p1y,result[2]=topRightBx,result[3]=p2y):p1x<p2x&&(result[0]=topRightAx,result[1]=
p1y,result[2]=topLeftBx,result[3]=p2y);else{rectA=rectA.height/rectA.width;var slopeB=rectB.height/rectB.width;rectB=(p2y-p1y)/(p2x-p1x);-rectA===rectB?(p1x>p2x?(result[0]=bottomLeftAx,result[1]=bottomLeftAy):(result[0]=topRightAx,result[1]=topLeftAy),clipPointAFound=!0):rectA===rectB&&(p1x>p2x?(result[0]=topLeftAx,result[1]=topLeftAy):(result[0]=bottomRightAx,result[1]=bottomLeftAy),clipPointAFound=!0);-slopeB===rectB?(p2x>p1x?(result[2]=bottomLeftBx,result[3]=bottomLeftBy):(result[2]=topRightBx,
result[3]=topLeftBy),clipPointBFound=!0):slopeB===rectB&&(p2x>p1x?(result[2]=topLeftBx,result[3]=topLeftBy):(result[2]=bottomRightBx,result[3]=bottomLeftBy),clipPointBFound=!0);if(clipPointAFound&&clipPointBFound)return!1;p1x>p2x?p1y>p2y?(topLeftAx=this.getCardinalDirection(rectA,rectB,4),topRightAx=this.getCardinalDirection(slopeB,rectB,2)):(topLeftAx=this.getCardinalDirection(-rectA,rectB,3),topRightAx=this.getCardinalDirection(-slopeB,rectB,1)):p1y>p2y?(topLeftAx=this.getCardinalDirection(-rectA,
rectB,1),topRightAx=this.getCardinalDirection(-slopeB,rectB,3)):(topLeftAx=this.getCardinalDirection(rectA,rectB,2),topRightAx=this.getCardinalDirection(slopeB,rectB,4));if(!clipPointAFound)switch(topLeftAx){case 1:result[0]=p1x+-halfHeightA/rectB;result[1]=topLeftAy;break;case 2:result[0]=bottomRightAx;result[1]=p1y+halfWidthA*rectB;break;case 3:result[0]=p1x+halfHeightA/rectB;result[1]=bottomLeftAy;break;case 4:result[0]=bottomLeftAx,result[1]=p1y+-halfWidthA*rectB}if(!clipPointBFound)switch(topRightAx){case 1:result[2]=
p2x+-halfHeightB/rectB;result[3]=topLeftBy;break;case 2:result[2]=bottomRightBx;result[3]=p2y+halfWidthB*rectB;break;case 3:result[2]=p2x+halfHeightB/rectB;result[3]=bottomLeftBy;break;case 4:result[2]=bottomLeftBx,result[3]=p2y+-halfWidthB*rectB}}return!1};IGeometry.getCardinalDirection=function(slope,slopePrime,line){return slope>slopePrime?line:1+line%4};IGeometry.getIntersection=function(s1,s2,f1,f2){if(null==f2)return this.getIntersection2(s1,s2,f1);var x1=s1.x,y1=s1.y,x2=s2.x,y2=s2.y;s2=f1.x;
s1=f1.y;var x4=f2.x,y4=f2.y;f2=y2-y1;f1=x1-x2;x2=x2*y1-x1*y2;x1=y4-s1;y1=s2-x4;s2=x4*s1-s2*y4;s1=f2*y1-x1*f1;return 0===s1?null:new Point((f1*s2-y1*x2)/s1,(x1*x2-f2*s2)/s1)};IGeometry.angleOfVector=function(Cx,Cy,Nx,Ny){if(Cx!==Nx){var C_angle=Math.atan((Ny-Cy)/(Nx-Cx));Nx<Cx?C_angle+=Math.PI:Ny<Cy&&(C_angle+=this.TWO_PI)}else C_angle=Ny<Cy?this.ONE_AND_HALF_PI:this.HALF_PI;return C_angle};IGeometry.doIntersect=function(p1,p2,p3,p4){var a=p1.x;p1=p1.y;var c=p2.x;p2=p2.y;var p=p3.x,q=p3.y;p3=p4.x;
p4=p4.y;var det=(c-a)*(p4-q)-(p3-p)*(p2-p1);if(0===det)return!1;p=((p4-q)*(p3-a)+(p-p3)*(p4-p1))/det;a=((p1-p2)*(p3-a)+(c-a)*(p4-p1))/det;return 0<p&&1>p&&0<a&&1>a};IGeometry.HALF_PI=.5*Math.PI;IGeometry.ONE_AND_HALF_PI=1.5*Math.PI;IGeometry.TWO_PI=2*Math.PI;IGeometry.THREE_PI=3*Math.PI;module.exports=IGeometry},function(module,exports,__webpack_require__){function IMath(){}IMath.sign=function(value){return 0<value?1:0>value?-1:0};IMath.floor=function(value){return 0>value?Math.ceil(value):Math.floor(value)};
IMath.ceil=function(value){return 0>value?Math.floor(value):Math.ceil(value)};module.exports=IMath},function(module,exports,__webpack_require__){function Integer(){}Integer.MAX_VALUE=2147483647;Integer.MIN_VALUE=-2147483648;module.exports=Integer},function(module,exports,__webpack_require__){var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in
descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}(),nodeFrom=function(value){return{value,next:null,prev:null}},add=function(prev,node,next,list){null!==prev?prev.next=node:list.head=node;null!==next?next.prev=node:list.tail=node;node.prev=prev;node.next=next;list.length++;
return node},_remove=function(node,list){var prev=node.prev,next=node.next;null!==prev?prev.next=next:list.head=next;null!==next?next.prev=prev:list.tail=prev;node.prev=node.next=null;list.length--;return node};exports=function(){function LinkedList(vals){var _this=this;if(!(this instanceof LinkedList))throw new TypeError("Cannot call a class as a function");this.length=0;this.tail=this.head=null;null!=vals&&vals.forEach(function(v){return _this.push(v)})}_createClass(LinkedList,[{key:"size",value:function(){return this.length}},
{key:"insertBefore",value:function(val,otherNode){return add(otherNode.prev,nodeFrom(val),otherNode,this)}},{key:"insertAfter",value:function(val,otherNode){return add(otherNode,nodeFrom(val),otherNode.next,this)}},{key:"insertNodeBefore",value:function(newNode,otherNode){return add(otherNode.prev,newNode,otherNode,this)}},{key:"insertNodeAfter",value:function(newNode,otherNode){return add(otherNode,newNode,otherNode.next,this)}},{key:"push",value:function(val){return add(this.tail,nodeFrom(val),
null,this)}},{key:"unshift",value:function(val){return add(null,nodeFrom(val),this.head,this)}},{key:"remove",value:function(node){return _remove(node,this)}},{key:"pop",value:function(){return _remove(this.tail,this).value}},{key:"popNode",value:function(){return _remove(this.tail,this)}},{key:"shift",value:function(){return _remove(this.head,this).value}},{key:"shiftNode",value:function(){return _remove(this.head,this)}},{key:"get_object_at",value:function(index){if(index<=this.length()){for(var i=
1,current=this.head;i<index;)current=current.next,i++;return current.value}}},{key:"set_object_at",value:function(index,value){if(index<=this.length()){for(var i=1,current=this.head;i<index;)current=current.next,i++;current.value=value}}}]);return LinkedList}();module.exports=exports},function(module,exports,__webpack_require__){function Point(x,y,p){this.y=this.x=null;null==x&&null==y&&null==p?this.y=this.x=0:"number"==typeof x&&"number"==typeof y&&null==p?(this.x=x,this.y=y):"Point"==x.constructor.name&&
null==y&&null==p&&(p=x,this.x=p.x,this.y=p.y)}Point.prototype.getX=function(){return this.x};Point.prototype.getY=function(){return this.y};Point.prototype.getLocation=function(){return new Point(this.x,this.y)};Point.prototype.setLocation=function(x,y,p){"Point"==x.constructor.name&&null==y&&null==p?(p=x,this.setLocation(p.x,p.y)):"number"==typeof x&&"number"==typeof y&&null==p&&(parseInt(x)==x&&parseInt(y)==y?this.move(x,y):(this.x=Math.floor(x+.5),this.y=Math.floor(y+.5)))};Point.prototype.move=
function(x,y){this.x=x;this.y=y};Point.prototype.translate=function(dx,dy){this.x+=dx;this.y+=dy};Point.prototype.equals=function(obj){return"Point"==obj.constructor.name?this.x==obj.x&&this.y==obj.y:this==obj};Point.prototype.toString=function(){return(new Point).constructor.name+"[x\x3d"+this.x+",y\x3d"+this.y+"]"};module.exports=Point},function(module,exports,__webpack_require__){function RectangleD(x,y,width,height){this.height=this.width=this.y=this.x=0;null!=x&&null!=y&&null!=width&&null!=height&&
(this.x=x,this.y=y,this.width=width,this.height=height)}RectangleD.prototype.getX=function(){return this.x};RectangleD.prototype.setX=function(x){this.x=x};RectangleD.prototype.getY=function(){return this.y};RectangleD.prototype.setY=function(y){this.y=y};RectangleD.prototype.getWidth=function(){return this.width};RectangleD.prototype.setWidth=function(width){this.width=width};RectangleD.prototype.getHeight=function(){return this.height};RectangleD.prototype.setHeight=function(height){this.height=
height};RectangleD.prototype.getRight=function(){return this.x+this.width};RectangleD.prototype.getBottom=function(){return this.y+this.height};RectangleD.prototype.intersects=function(a){return this.getRight()<a.x||this.getBottom()<a.y||a.getRight()<this.x||a.getBottom()<this.y?!1:!0};RectangleD.prototype.getCenterX=function(){return this.x+this.width/2};RectangleD.prototype.getMinX=function(){return this.getX()};RectangleD.prototype.getMaxX=function(){return this.getX()+this.width};RectangleD.prototype.getCenterY=
function(){return this.y+this.height/2};RectangleD.prototype.getMinY=function(){return this.getY()};RectangleD.prototype.getMaxY=function(){return this.getY()+this.height};RectangleD.prototype.getWidthHalf=function(){return this.width/2};RectangleD.prototype.getHeightHalf=function(){return this.height/2};module.exports=RectangleD},function(module,exports,__webpack_require__){function UniqueIDGeneretor(){}var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:
function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};UniqueIDGeneretor.lastID=0;UniqueIDGeneretor.createID=function(obj){if(UniqueIDGeneretor.isPrimitive(obj))return obj;if(null!=obj.uniqueID)return obj.uniqueID;obj.uniqueID=UniqueIDGeneretor.getString();UniqueIDGeneretor.lastID++;return obj.uniqueID};UniqueIDGeneretor.getString=function(id){null==id&&(id=UniqueIDGeneretor.lastID);return"Object#"+id};UniqueIDGeneretor.isPrimitive=
function(arg){var type="undefined"===typeof arg?"undefined":_typeof(arg);return null==arg||"object"!=type&&"function"!=type};module.exports=UniqueIDGeneretor},function(module,exports,__webpack_require__){function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function Layout(isRemoteUse){Emitter.call(this);this.layoutQuality=LayoutConstants.QUALITY;this.createBendsAsNeeded=LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;
this.incremental=LayoutConstants.DEFAULT_INCREMENTAL;this.animationOnLayout=LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT;this.animationDuringLayout=LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT;this.animationPeriod=LayoutConstants.DEFAULT_ANIMATION_PERIOD;this.uniformLeafNodeSizes=LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES;this.edgeToDummyNodes=new Map;this.graphManager=new LGraphManager(this);this.isRemoteUse=this.isSubLayout=this.isLayoutFinished=!1;null!=isRemoteUse&&(this.isRemoteUse=isRemoteUse)}
var LayoutConstants=__webpack_require__(0),LGraphManager=__webpack_require__(6),LNode=__webpack_require__(3),LEdge=__webpack_require__(1),LGraph=__webpack_require__(5),PointD=__webpack_require__(4),Transform=__webpack_require__(17),Emitter=__webpack_require__(27);Layout.RANDOM_SEED=1;Layout.prototype=Object.create(Emitter.prototype);Layout.prototype.getGraphManager=function(){return this.graphManager};Layout.prototype.getAllNodes=function(){return this.graphManager.getAllNodes()};Layout.prototype.getAllEdges=
function(){return this.graphManager.getAllEdges()};Layout.prototype.getAllNodesToApplyGravitation=function(){return this.graphManager.getAllNodesToApplyGravitation()};Layout.prototype.newGraphManager=function(){var gm=new LGraphManager(this);return this.graphManager=gm};Layout.prototype.newGraph=function(vGraph){return new LGraph(null,this.graphManager,vGraph)};Layout.prototype.newNode=function(vNode){return new LNode(this.graphManager,vNode)};Layout.prototype.newEdge=function(vEdge){return new LEdge(null,
null,vEdge)};Layout.prototype.checkLayoutSuccess=function(){return null==this.graphManager.getRoot()||0==this.graphManager.getRoot().getNodes().length||this.graphManager.includesInvalidEdge()};Layout.prototype.runLayout=function(){this.isLayoutFinished=!1;this.tilingPreLayout&&this.tilingPreLayout();this.initParameters();var isLayoutSuccessfull=this.checkLayoutSuccess()?!1:this.layout();if("during"===LayoutConstants.ANIMATE)return!1;isLayoutSuccessfull&&(this.isSubLayout||this.doPostLayout());this.tilingPostLayout&&
this.tilingPostLayout();this.isLayoutFinished=!0;return isLayoutSuccessfull};Layout.prototype.doPostLayout=function(){this.incremental||this.transform();this.update()};Layout.prototype.update2=function(){this.createBendsAsNeeded&&(this.createBendpointsFromDummyNodes(),this.graphManager.resetAllEdges());if(!this.isRemoteUse){for(var allEdges=this.graphManager.getAllEdges(),i=0;i<allEdges.length;i++);allEdges=this.graphManager.getRoot().getNodes();for(i=0;i<allEdges.length;i++);this.update(this.graphManager.getRoot())}};
Layout.prototype.update=function(obj){if(null==obj)this.update2();else if(obj instanceof LNode){if(null!=obj.getChild())for(var nodes=obj.getChild().getNodes(),i=0;i<nodes.length;i++)update(nodes[i]);null!=obj.vGraphObject&&obj.vGraphObject.update(obj)}else obj instanceof LEdge?null!=obj.vGraphObject&&obj.vGraphObject.update(obj):obj instanceof LGraph&&null!=obj.vGraphObject&&obj.vGraphObject.update(obj)};Layout.prototype.initParameters=function(){this.isSubLayout||(this.layoutQuality=LayoutConstants.QUALITY,
this.animationDuringLayout=LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT,this.animationPeriod=LayoutConstants.DEFAULT_ANIMATION_PERIOD,this.animationOnLayout=LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT,this.incremental=LayoutConstants.DEFAULT_INCREMENTAL,this.createBendsAsNeeded=LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED,this.uniformLeafNodeSizes=LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES);this.animationDuringLayout&&(this.animationOnLayout=!1)};Layout.prototype.transform=function(newLeftTop){if(void 0==
newLeftTop)this.transform(new PointD(0,0));else{var trans=new Transform,leftTop=this.graphManager.getRoot().updateLeftTop();if(null!=leftTop){trans.setWorldOrgX(newLeftTop.x);trans.setWorldOrgY(newLeftTop.y);trans.setDeviceOrgX(leftTop.x);trans.setDeviceOrgY(leftTop.y);newLeftTop=this.getAllNodes();for(var i=0;i<newLeftTop.length;i++)leftTop=newLeftTop[i],leftTop.transform(trans)}}};Layout.prototype.positionNodesRandomly=function(graph){if(void 0==graph)this.positionNodesRandomly(this.getGraphManager().getRoot()),
this.getGraphManager().getRoot().updateBounds(!0);else for(var childGraph,nodes=graph.getNodes(),i=0;i<nodes.length;i++)graph=nodes[i],childGraph=graph.getChild(),null==childGraph?graph.scatter():0==childGraph.getNodes().length?graph.scatter():(this.positionNodesRandomly(childGraph),graph.updateBounds())};Layout.prototype.getFlatForest=function(){for(var flatForest=[],isForest=!0,allNodes=this.graphManager.getRoot().getNodes(),isFlat=!0,i=0;i<allNodes.length;i++)null!=allNodes[i].getChild()&&(isFlat=
!1);if(!isFlat)return flatForest;var visited=new Set;isFlat=[];var parents=new Map,unProcessedNodes=[];for(unProcessedNodes=unProcessedNodes.concat(allNodes);0<unProcessedNodes.length&&isForest;){for(isFlat.push(unProcessedNodes[0]);0<isFlat.length&&isForest;){allNodes=isFlat[0];isFlat.splice(0,1);visited.add(allNodes);var neighborEdges=allNodes.getEdges();for(i=0;i<neighborEdges.length;i++){var currentNeighbor=neighborEdges[i].getOtherEnd(allNodes);if(parents.get(allNodes)!=currentNeighbor)if(visited.has(currentNeighbor)){isForest=
!1;break}else isFlat.push(currentNeighbor),parents.set(currentNeighbor,allNodes)}}if(isForest){visited=[].concat(_toConsumableArray(visited));flatForest.push(visited);for(i=0;i<visited.length;i++)parents=unProcessedNodes.indexOf(visited[i]),-1<parents&&unProcessedNodes.splice(parents,1);visited=new Set;parents=new Map}else flatForest=[]}return flatForest};Layout.prototype.createDummyNodesForBendpoints=function(edge){for(var dummyNodes=[],prev=edge.source,graph=this.graphManager.calcLowestCommonAncestor(edge.source,
edge.target),i=0;i<edge.bendpoints.length;i++){var dummyNode=this.newNode(null);dummyNode.setRect(new Point(0,0),new Dimension(1,1));graph.add(dummyNode);var dummyEdge=this.newEdge(null);this.graphManager.add(dummyEdge,prev,dummyNode);dummyNodes.add(dummyNode);prev=dummyNode}dummyEdge=this.newEdge(null);this.graphManager.add(dummyEdge,prev,edge.target);this.edgeToDummyNodes.set(edge,dummyNodes);edge.isInterGraph()?this.graphManager.remove(edge):graph.remove(edge);return dummyNodes};Layout.prototype.createBendpointsFromDummyNodes=
function(){var edges=[];edges=edges.concat(this.graphManager.getAllEdges());edges=[].concat(_toConsumableArray(this.edgeToDummyNodes.keys())).concat(edges);for(var k=0;k<edges.length;k++){var lEdge=edges[k];if(0<lEdge.bendpoints.length){for(var path=this.edgeToDummyNodes.get(lEdge),i=0;i<path.length;i++){var dummyNode=path[i],p=new PointD(dummyNode.getCenterX(),dummyNode.getCenterY()),ebp=lEdge.bendpoints.get(i);ebp.x=p.x;ebp.y=p.y;dummyNode.getOwner().remove(dummyNode)}this.graphManager.add(lEdge,
lEdge.source,lEdge.target)}}};Layout.transform=function(sliderValue,defaultValue,minDiv,maxMul){if(void 0!=minDiv&&void 0!=maxMul){var value=defaultValue;return 50>=sliderValue?value-(defaultValue-defaultValue/minDiv)/50*(50-sliderValue):value+(defaultValue*maxMul-defaultValue)/50*(sliderValue-50)}50>=sliderValue?(minDiv=9*defaultValue/500,defaultValue/=10):(minDiv=9*defaultValue/50,defaultValue*=-8);return minDiv*sliderValue+defaultValue};Layout.findCenterOfTree=function(nodes){var list=[];list=
list.concat(nodes);var removedNodes=[],remainingDegrees=new Map;nodes=!1;var centerNode=null;if(1==list.length||2==list.length)nodes=!0,centerNode=list[0];for(var i=0;i<list.length;i++){var node=list[i],degree=node.getNeighborsList().size;remainingDegrees.set(node,node.getNeighborsList().size);1==degree&&removedNodes.push(node)}var tempList=[];for(tempList=tempList.concat(removedNodes);!nodes;){i=[];i=i.concat(tempList);tempList=[];for(i=0;i<list.length;i++)node=list[i],degree=list.indexOf(node),
0<=degree&&list.splice(degree,1),node.getNeighborsList().forEach(function(neighbour){if(0>removedNodes.indexOf(neighbour)){var newDegree=remainingDegrees.get(neighbour)-1;1==newDegree&&tempList.push(neighbour);remainingDegrees.set(neighbour,newDegree)}});removedNodes=removedNodes.concat(tempList);if(1==list.length||2==list.length)nodes=!0,centerNode=list[0]}return centerNode};Layout.prototype.setGraphManager=function(gm){this.graphManager=gm};module.exports=Layout},function(module,exports,__webpack_require__){function RandomSeed(){}
RandomSeed.seed=1;RandomSeed.x=0;RandomSeed.nextDouble=function(){RandomSeed.x=1E4*Math.sin(RandomSeed.seed++);return RandomSeed.x-Math.floor(RandomSeed.x)};module.exports=RandomSeed},function(module,exports,__webpack_require__){function Transform(x,y){this.ldeviceOrgY=this.ldeviceOrgX=this.lworldOrgY=this.lworldOrgX=0;this.ldeviceExtY=this.ldeviceExtX=this.lworldExtY=this.lworldExtX=1}var PointD=__webpack_require__(4);Transform.prototype.getWorldOrgX=function(){return this.lworldOrgX};Transform.prototype.setWorldOrgX=
function(wox){this.lworldOrgX=wox};Transform.prototype.getWorldOrgY=function(){return this.lworldOrgY};Transform.prototype.setWorldOrgY=function(woy){this.lworldOrgY=woy};Transform.prototype.getWorldExtX=function(){return this.lworldExtX};Transform.prototype.setWorldExtX=function(wex){this.lworldExtX=wex};Transform.prototype.getWorldExtY=function(){return this.lworldExtY};Transform.prototype.setWorldExtY=function(wey){this.lworldExtY=wey};Transform.prototype.getDeviceOrgX=function(){return this.ldeviceOrgX};
Transform.prototype.setDeviceOrgX=function(dox){this.ldeviceOrgX=dox};Transform.prototype.getDeviceOrgY=function(){return this.ldeviceOrgY};Transform.prototype.setDeviceOrgY=function(doy){this.ldeviceOrgY=doy};Transform.prototype.getDeviceExtX=function(){return this.ldeviceExtX};Transform.prototype.setDeviceExtX=function(dex){this.ldeviceExtX=dex};Transform.prototype.getDeviceExtY=function(){return this.ldeviceExtY};Transform.prototype.setDeviceExtY=function(dey){this.ldeviceExtY=dey};Transform.prototype.transformX=
function(x){var xDevice=0,worldExtX=this.lworldExtX;0!=worldExtX&&(xDevice=this.ldeviceOrgX+(x-this.lworldOrgX)*this.ldeviceExtX/worldExtX);return xDevice};Transform.prototype.transformY=function(y){var yDevice=0,worldExtY=this.lworldExtY;0!=worldExtY&&(yDevice=this.ldeviceOrgY+(y-this.lworldOrgY)*this.ldeviceExtY/worldExtY);return yDevice};Transform.prototype.inverseTransformX=function(x){var xWorld=0,deviceExtX=this.ldeviceExtX;0!=deviceExtX&&(xWorld=this.lworldOrgX+(x-this.ldeviceOrgX)*this.lworldExtX/
deviceExtX);return xWorld};Transform.prototype.inverseTransformY=function(y){var yWorld=0,deviceExtY=this.ldeviceExtY;0!=deviceExtY&&(yWorld=this.lworldOrgY+(y-this.ldeviceOrgY)*this.lworldExtY/deviceExtY);return yWorld};Transform.prototype.inverseTransformPoint=function(inPoint){return new PointD(this.inverseTransformX(inPoint.x),this.inverseTransformY(inPoint.y))};module.exports=Transform},function(module,exports,__webpack_require__){function FDLayout(){Layout.call(this);this.useSmartIdealEdgeLengthCalculation=
FDLayoutConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;this.idealEdgeLength=FDLayoutConstants.DEFAULT_EDGE_LENGTH;this.springConstant=FDLayoutConstants.DEFAULT_SPRING_STRENGTH;this.repulsionConstant=FDLayoutConstants.DEFAULT_REPULSION_STRENGTH;this.gravityConstant=FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH;this.compoundGravityConstant=FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH;this.gravityRangeFactor=FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR;this.compoundGravityRangeFactor=
FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;this.displacementThresholdPerNode=3*FDLayoutConstants.DEFAULT_EDGE_LENGTH/100;this.initialCoolingFactor=this.coolingFactor=FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.oldTotalDisplacement=this.totalDisplacement=0;this.maxIterations=FDLayoutConstants.MAX_ITERATIONS}var Layout=__webpack_require__(15),FDLayoutConstants=__webpack_require__(7),LayoutConstants=__webpack_require__(0),IGeometry=__webpack_require__(8),IMath=__webpack_require__(9);
FDLayout.prototype=Object.create(Layout.prototype);for(var prop in Layout)FDLayout[prop]=Layout[prop];FDLayout.prototype.initParameters=function(){Layout.prototype.initParameters.call(this,arguments);this.notAnimatedIterations=this.totalIterations=0;this.useFRGridVariant=FDLayoutConstants.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION;this.grid=[]};FDLayout.prototype.calcIdealEdgeLengths=function(){for(var edge,lcaDepth,source,target,sizeOfTargetInLca,allEdges=this.getGraphManager().getAllEdges(),
i=0;i<allEdges.length;i++)edge=allEdges[i],edge.idealLength=this.idealEdgeLength,edge.isInterGraph&&(source=edge.getSource(),target=edge.getTarget(),lcaDepth=edge.getSourceInLca().getEstimatedSize(),sizeOfTargetInLca=edge.getTargetInLca().getEstimatedSize(),this.useSmartIdealEdgeLengthCalculation&&(edge.idealLength+=lcaDepth+sizeOfTargetInLca-2*LayoutConstants.SIMPLE_NODE_SIZE),lcaDepth=edge.getLca().getInclusionTreeDepth(),edge.idealLength+=FDLayoutConstants.DEFAULT_EDGE_LENGTH*FDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR*
(source.getInclusionTreeDepth()+target.getInclusionTreeDepth()-2*lcaDepth))};FDLayout.prototype.initSpringEmbedder=function(){var s=this.getAllNodes().length;this.incremental?(s>FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT&&(this.coolingFactor=Math.max(this.coolingFactor*FDLayoutConstants.COOLING_ADAPTATION_FACTOR,this.coolingFactor-(s-FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT)/(FDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT-FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT)*this.coolingFactor*(1-
FDLayoutConstants.COOLING_ADAPTATION_FACTOR))),this.maxNodeDisplacement=FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL):(this.initialCoolingFactor=this.coolingFactor=s>FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT?Math.max(FDLayoutConstants.COOLING_ADAPTATION_FACTOR,1-(s-FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT)/(FDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT-FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT)*(1-FDLayoutConstants.COOLING_ADAPTATION_FACTOR)):1,this.maxNodeDisplacement=FDLayoutConstants.MAX_NODE_DISPLACEMENT);
this.maxIterations=Math.max(5*this.getAllNodes().length,this.maxIterations);this.totalDisplacementThreshold=this.displacementThresholdPerNode*this.getAllNodes().length;this.repulsionRange=this.calcRepulsionRange()};FDLayout.prototype.calcSpringForces=function(){for(var lEdges=this.getAllEdges(),edge,i=0;i<lEdges.length;i++)edge=lEdges[i],this.calcSpringForce(edge,edge.idealLength)};FDLayout.prototype.calcRepulsionForces=function(){var gridUpdateAllowed=0<arguments.length&&void 0!==arguments[0]?arguments[0]:
!0,forceToNodeSurroundingUpdate=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,i,lNodes=this.getAllNodes();if(this.useFRGridVariant){1==this.totalIterations%FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD&&gridUpdateAllowed&&this.updateGrid();var processedNodeSet=new Set;for(i=0;i<lNodes.length;i++){var nodeA=lNodes[i];this.calculateRepulsionForceOfANode(nodeA,processedNodeSet,gridUpdateAllowed,forceToNodeSurroundingUpdate);processedNodeSet.add(nodeA)}}else for(i=0;i<lNodes.length;i++)for(nodeA=
lNodes[i],gridUpdateAllowed=i+1;gridUpdateAllowed<lNodes.length;gridUpdateAllowed++)forceToNodeSurroundingUpdate=lNodes[gridUpdateAllowed],nodeA.getOwner()==forceToNodeSurroundingUpdate.getOwner()&&this.calcRepulsionForce(nodeA,forceToNodeSurroundingUpdate)};FDLayout.prototype.calcGravitationalForces=function(){for(var node,lNodes=this.getAllNodesToApplyGravitation(),i=0;i<lNodes.length;i++)node=lNodes[i],this.calcGravitationalForce(node)};FDLayout.prototype.moveNodes=function(){for(var lNodes=this.getAllNodes(),
node,i=0;i<lNodes.length;i++)node=lNodes[i],node.move()};FDLayout.prototype.calcSpringForce=function(edge,idealLength){var sourceNode=edge.getSource(),targetNode=edge.getTarget();if(this.uniformLeafNodeSizes&&null==sourceNode.getChild()&&null==targetNode.getChild())edge.updateLengthSimple();else if(edge.updateLength(),edge.isOverlapingSourceAndTarget)return;var length=edge.getLength();if(0!=length){var springForce=this.springConstant*(length-idealLength);idealLength=edge.lengthX/length*springForce;
edge=edge.lengthY/length*springForce;sourceNode.springForceX+=idealLength;sourceNode.springForceY+=edge;targetNode.springForceX-=idealLength;targetNode.springForceY-=edge}};FDLayout.prototype.calcRepulsionForce=function(nodeA,nodeB){var rectA=nodeA.getRect(),rectB=nodeB.getRect(),overlapAmount=Array(2),clipPoints=Array(4);if(rectA.intersects(rectB)){IGeometry.calcSeparationAmount(rectA,rectB,overlapAmount,FDLayoutConstants.DEFAULT_EDGE_LENGTH/2);var distanceX=2*overlapAmount[0];rectA=2*overlapAmount[1];
rectB=nodeA.noOfChildren*nodeB.noOfChildren/(nodeA.noOfChildren+nodeB.noOfChildren);nodeA.repulsionForceX-=rectB*distanceX;nodeA.repulsionForceY-=rectB*rectA;nodeB.repulsionForceX+=rectB*distanceX;nodeB.repulsionForceY+=rectB*rectA}else this.uniformLeafNodeSizes&&null==nodeA.getChild()&&null==nodeB.getChild()?(distanceX=rectB.getCenterX()-rectA.getCenterX(),rectA=rectB.getCenterY()-rectA.getCenterY()):(IGeometry.getIntersection(rectA,rectB,clipPoints),distanceX=clipPoints[2]-clipPoints[0],rectA=clipPoints[3]-
clipPoints[1]),Math.abs(distanceX)<FDLayoutConstants.MIN_REPULSION_DIST&&(distanceX=IMath.sign(distanceX)*FDLayoutConstants.MIN_REPULSION_DIST),Math.abs(rectA)<FDLayoutConstants.MIN_REPULSION_DIST&&(rectA=IMath.sign(rectA)*FDLayoutConstants.MIN_REPULSION_DIST),overlapAmount=distanceX*distanceX+rectA*rectA,rectB=Math.sqrt(overlapAmount),overlapAmount=this.repulsionConstant*nodeA.noOfChildren*nodeB.noOfChildren/overlapAmount,distanceX=overlapAmount*distanceX/rectB,rectA=overlapAmount*rectA/rectB,nodeA.repulsionForceX-=
distanceX,nodeA.repulsionForceY-=rectA,nodeB.repulsionForceX+=distanceX,nodeB.repulsionForceY+=rectA};FDLayout.prototype.calcGravitationalForce=function(node){var ownerGraph=node.getOwner();var ownerCenterX=(ownerGraph.getRight()+ownerGraph.getLeft())/2;var ownerCenterY=(ownerGraph.getTop()+ownerGraph.getBottom())/2;ownerCenterX=node.getCenterX()-ownerCenterX;ownerCenterY=node.getCenterY()-ownerCenterY;var absDistanceX=Math.abs(ownerCenterX)+node.getWidth()/2;var absDistanceY=Math.abs(ownerCenterY)+
node.getHeight()/2;if(node.getOwner()==this.graphManager.getRoot()){if(ownerGraph=ownerGraph.getEstimatedSize()*this.gravityRangeFactor,absDistanceX>ownerGraph||absDistanceY>ownerGraph)node.gravitationForceX=-this.gravityConstant*ownerCenterX,node.gravitationForceY=-this.gravityConstant*ownerCenterY}else if(ownerGraph=ownerGraph.getEstimatedSize()*this.compoundGravityRangeFactor,absDistanceX>ownerGraph||absDistanceY>ownerGraph)node.gravitationForceX=-this.gravityConstant*ownerCenterX*this.compoundGravityConstant,
node.gravitationForceY=-this.gravityConstant*ownerCenterY*this.compoundGravityConstant};FDLayout.prototype.isConverged=function(){var oscilating=!1;this.totalIterations>this.maxIterations/3&&(oscilating=2>Math.abs(this.totalDisplacement-this.oldTotalDisplacement));var converged=this.totalDisplacement<this.totalDisplacementThreshold;this.oldTotalDisplacement=this.totalDisplacement;return converged||oscilating};FDLayout.prototype.animate=function(){this.animationDuringLayout&&!this.isSubLayout&&(this.notAnimatedIterations==
this.animationPeriod?(this.update(),this.notAnimatedIterations=0):this.notAnimatedIterations++)};FDLayout.prototype.calcNoOfChildrenForAllNodes=function(){for(var node,allNodes=this.graphManager.getAllNodes(),i=0;i<allNodes.length;i++)node=allNodes[i],node.noOfChildren=node.getNoOfChildren()};FDLayout.prototype.calcGrid=function(graph){var sizeX=parseInt(Math.ceil((graph.getRight()-graph.getLeft())/this.repulsionRange));graph=parseInt(Math.ceil((graph.getBottom()-graph.getTop())/this.repulsionRange));
for(var grid=Array(sizeX),i=0;i<sizeX;i++)grid[i]=Array(graph);for(i=0;i<sizeX;i++)for(var j=0;j<graph;j++)grid[i][j]=[];return grid};FDLayout.prototype.addNodeToGrid=function(v,left,top){var startX=parseInt(Math.floor((v.getRect().x-left)/this.repulsionRange));left=parseInt(Math.floor((v.getRect().width+v.getRect().x-left)/this.repulsionRange));var startY=parseInt(Math.floor((v.getRect().y-top)/this.repulsionRange));top=parseInt(Math.floor((v.getRect().height+v.getRect().y-top)/this.repulsionRange));
for(var i=startX;i<=left;i++)for(var j=startY;j<=top;j++)this.grid[i][j].push(v),v.setGridCoordinates(startX,left,startY,top)};FDLayout.prototype.updateGrid=function(){var i,lNodes=this.getAllNodes();this.grid=this.calcGrid(this.graphManager.getRoot());for(i=0;i<lNodes.length;i++){var nodeA=lNodes[i];this.addNodeToGrid(nodeA,this.graphManager.getRoot().getLeft(),this.graphManager.getRoot().getTop())}};FDLayout.prototype.calculateRepulsionForceOfANode=function(nodeA,processedNodeSet,gridUpdateAllowed,
forceToNodeSurroundingUpdate){if(1==this.totalIterations%FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD&&gridUpdateAllowed||forceToNodeSurroundingUpdate){gridUpdateAllowed=new Set;nodeA.surrounding=[];for(var grid=this.grid,i=nodeA.startX-1;i<nodeA.finishX+2;i++)for(var j=nodeA.startY-1;j<nodeA.finishY+2;j++)if(!(0>i||0>j||i>=grid.length||j>=grid[0].length))for(var k=0;k<grid[i][j].length;k++)if(forceToNodeSurroundingUpdate=grid[i][j][k],nodeA.getOwner()==forceToNodeSurroundingUpdate.getOwner()&&
nodeA!=forceToNodeSurroundingUpdate&&!processedNodeSet.has(forceToNodeSurroundingUpdate)&&!gridUpdateAllowed.has(forceToNodeSurroundingUpdate)){var distanceX=Math.abs(nodeA.getCenterX()-forceToNodeSurroundingUpdate.getCenterX())-(nodeA.getWidth()/2+forceToNodeSurroundingUpdate.getWidth()/2),distanceY=Math.abs(nodeA.getCenterY()-forceToNodeSurroundingUpdate.getCenterY())-(nodeA.getHeight()/2+forceToNodeSurroundingUpdate.getHeight()/2);distanceX<=this.repulsionRange&&distanceY<=this.repulsionRange&&
gridUpdateAllowed.add(forceToNodeSurroundingUpdate)}processedNodeSet=[];forceToNodeSurroundingUpdate=processedNodeSet.concat;if(Array.isArray(gridUpdateAllowed)){grid=0;for(i=Array(gridUpdateAllowed.length);grid<gridUpdateAllowed.length;grid++)i[grid]=gridUpdateAllowed[grid];gridUpdateAllowed=i}else gridUpdateAllowed=Array.from(gridUpdateAllowed);nodeA.surrounding=forceToNodeSurroundingUpdate.call(processedNodeSet,gridUpdateAllowed)}for(i=0;i<nodeA.surrounding.length;i++)this.calcRepulsionForce(nodeA,
nodeA.surrounding[i])};FDLayout.prototype.calcRepulsionRange=function(){return 0};module.exports=FDLayout},function(module,exports,__webpack_require__){function FDLayoutEdge(source,target,vEdge){LEdge.call(this,source,target,vEdge);this.idealLength=FDLayoutConstants.DEFAULT_EDGE_LENGTH}var LEdge=__webpack_require__(1),FDLayoutConstants=__webpack_require__(7);FDLayoutEdge.prototype=Object.create(LEdge.prototype);for(var prop in LEdge)FDLayoutEdge[prop]=LEdge[prop];module.exports=FDLayoutEdge},function(module,
exports,__webpack_require__){function FDLayoutNode(gm,loc,size,vNode){LNode.call(this,gm,loc,size,vNode);this.finishY=this.startY=this.finishX=this.startX=this.displacementY=this.displacementX=this.gravitationForceY=this.gravitationForceX=this.repulsionForceY=this.repulsionForceX=this.springForceY=this.springForceX=0;this.surrounding=[]}var LNode=__webpack_require__(3);FDLayoutNode.prototype=Object.create(LNode.prototype);for(var prop in LNode)FDLayoutNode[prop]=LNode[prop];FDLayoutNode.prototype.setGridCoordinates=
function(_startX,_finishX,_startY,_finishY){this.startX=_startX;this.finishX=_finishX;this.startY=_startY;this.finishY=_finishY};module.exports=FDLayoutNode},function(module,exports,__webpack_require__){function DimensionD(width,height){this.height=this.width=0;null!==width&&null!==height&&(this.height=height,this.width=width)}DimensionD.prototype.getWidth=function(){return this.width};DimensionD.prototype.setWidth=function(width){this.width=width};DimensionD.prototype.getHeight=function(){return this.height};
DimensionD.prototype.setHeight=function(height){this.height=height};module.exports=DimensionD},function(module,exports,__webpack_require__){function HashMap(){this.map={};this.keys=[]}var UniqueIDGeneretor=__webpack_require__(14);HashMap.prototype.put=function(key,value){var theId=UniqueIDGeneretor.createID(key);this.contains(theId)||(this.map[theId]=value,this.keys.push(key))};HashMap.prototype.contains=function(key){UniqueIDGeneretor.createID(key);return null!=this.map[key]};HashMap.prototype.get=
function(key){key=UniqueIDGeneretor.createID(key);return this.map[key]};HashMap.prototype.keySet=function(){return this.keys};module.exports=HashMap},function(module,exports,__webpack_require__){function HashSet(){this.set={}}var UniqueIDGeneretor=__webpack_require__(14);HashSet.prototype.add=function(obj){var theId=UniqueIDGeneretor.createID(obj);this.contains(theId)||(this.set[theId]=obj)};HashSet.prototype.remove=function(obj){delete this.set[UniqueIDGeneretor.createID(obj)]};HashSet.prototype.clear=
function(){this.set={}};HashSet.prototype.contains=function(obj){return this.set[UniqueIDGeneretor.createID(obj)]==obj};HashSet.prototype.isEmpty=function(){return 0===this.size()};HashSet.prototype.size=function(){return Object.keys(this.set).length};HashSet.prototype.addAllTo=function(list){for(var keys=Object.keys(this.set),length=keys.length,i=0;i<length;i++)list.push(this.set[keys[i]])};HashSet.prototype.size=function(){return Object.keys(this.set).length};HashSet.prototype.addAll=function(list){for(var s=
list.length,i=0;i<s;i++)this.add(list[i])};module.exports=HashSet},function(module,exports,__webpack_require__){var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,
protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}(),LinkedList=__webpack_require__(11);exports=function(){function Quicksort(A,compareFunction){if(!(this instanceof Quicksort))throw new TypeError("Cannot call a class as a function");if(null!==compareFunction||void 0!==compareFunction)this.compareFunction=this._defaultCompareFunction;compareFunction=A instanceof LinkedList?A.size():A.length;this._quicksort(A,0,compareFunction-1)}_createClass(Quicksort,[{key:"_quicksort",
value:function(A,p,r){if(p<r){var q=this._partition(A,p,r);this._quicksort(A,p,q);this._quicksort(A,q+1,r)}}},{key:"_partition",value:function(A,p,r){for(var x=this._get(A,p);;){for(;this.compareFunction(x,this._get(A,r));)r--;for(;this.compareFunction(this._get(A,p),x);)p++;if(p<r)this._swap(A,p,r),p++,r--;else return r}}},{key:"_get",value:function(object,index){return object instanceof LinkedList?object.get_object_at(index):object[index]}},{key:"_set",value:function(object,index,value){object instanceof
LinkedList?object.set_object_at(index,value):object[index]=value}},{key:"_swap",value:function(A,i,j){var temp=this._get(A,i);this._set(A,i,this._get(A,j));this._set(A,j,temp)}},{key:"_defaultCompareFunction",value:function(a,b){return b>a}}]);return Quicksort}();module.exports=exports},function(module,exports,__webpack_require__){var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||
!1;descriptor.configurable=!0;"value"in descriptor&&(descriptor.writable=!0);Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){protoProps&&defineProperties(Constructor.prototype,protoProps);staticProps&&defineProperties(Constructor,staticProps);return Constructor}}();exports=function(){function NeedlemanWunsch(sequence1,sequence2){var match_score=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,mismatch_penalty=3<arguments.length&&
void 0!==arguments[3]?arguments[3]:-1,gap_penalty=4<arguments.length&&void 0!==arguments[4]?arguments[4]:-1;if(!(this instanceof NeedlemanWunsch))throw new TypeError("Cannot call a class as a function");this.sequence1=sequence1;this.sequence2=sequence2;this.match_score=match_score;this.mismatch_penalty=mismatch_penalty;this.gap_penalty=gap_penalty;this.iMax=sequence1.length+1;this.jMax=sequence2.length+1;this.grid=Array(this.iMax);for(match_score=0;match_score<this.iMax;match_score++)for(this.grid[match_score]=
Array(this.jMax),mismatch_penalty=0;mismatch_penalty<this.jMax;mismatch_penalty++)this.grid[match_score][mismatch_penalty]=0;this.tracebackGrid=Array(this.iMax);for(match_score=0;match_score<this.iMax;match_score++)for(this.tracebackGrid[match_score]=Array(this.jMax),mismatch_penalty=0;mismatch_penalty<this.jMax;mismatch_penalty++)this.tracebackGrid[match_score][mismatch_penalty]=[null,null,null];this.alignments=[];this.score=-1;this.computeGrids()}_createClass(NeedlemanWunsch,[{key:"getScore",value:function(){return this.score}},
{key:"getAlignments",value:function(){return this.alignments}},{key:"computeGrids",value:function(){for(var j=1;j<this.jMax;j++)this.grid[0][j]=this.grid[0][j-1]+this.gap_penalty,this.tracebackGrid[0][j]=[!1,!1,!0];for(j=1;j<this.iMax;j++)this.grid[j][0]=this.grid[j-1][0]+this.gap_penalty,this.tracebackGrid[j][0]=[!1,!0,!1];for(j=1;j<this.iMax;j++)for(var _j2=1;_j2<this.jMax;_j2++){var maxOf=[this.sequence1[j-1]===this.sequence2[_j2-1]?this.grid[j-1][_j2-1]+this.match_score:this.grid[j-1][_j2-1]+
this.mismatch_penalty,this.grid[j-1][_j2]+this.gap_penalty,this.grid[j][_j2-1]+this.gap_penalty],indices=this.arrayAllMaxIndexes(maxOf);this.grid[j][_j2]=maxOf[indices[0]];this.tracebackGrid[j][_j2]=[indices.includes(0),indices.includes(1),indices.includes(2)]}this.score=this.grid[this.iMax-1][this.jMax-1]}},{key:"alignmentTraceback",value:function(){var inProcessAlignments=[];for(inProcessAlignments.push({pos:[this.sequence1.length,this.sequence2.length],seq1:"",seq2:""});inProcessAlignments[0];){var current=
inProcessAlignments[0],directions=this.tracebackGrid[current.pos[0]][current.pos[1]];directions[0]&&inProcessAlignments.push({pos:[current.pos[0]-1,current.pos[1]-1],seq1:this.sequence1[current.pos[0]-1]+current.seq1,seq2:this.sequence2[current.pos[1]-1]+current.seq2});directions[1]&&inProcessAlignments.push({pos:[current.pos[0]-1,current.pos[1]],seq1:this.sequence1[current.pos[0]-1]+current.seq1,seq2:"-"+current.seq2});directions[2]&&inProcessAlignments.push({pos:[current.pos[0],current.pos[1]-1],
seq1:"-"+current.seq1,seq2:this.sequence2[current.pos[1]-1]+current.seq2});0===current.pos[0]&&0===current.pos[1]&&this.alignments.push({sequence1:current.seq1,sequence2:current.seq2});inProcessAlignments.shift()}return this.alignments}},{key:"getAllIndexes",value:function(arr,val){for(var indexes=[],i=-1;-1!==(i=arr.indexOf(val,i+1));)indexes.push(i);return indexes}},{key:"arrayAllMaxIndexes",value:function(array){return this.getAllIndexes(array,Math.max.apply(null,array))}}]);return NeedlemanWunsch}();
module.exports=exports},function(module,exports,__webpack_require__){exports=function(){};exports.FDLayout=__webpack_require__(18);exports.FDLayoutConstants=__webpack_require__(7);exports.FDLayoutEdge=__webpack_require__(19);exports.FDLayoutNode=__webpack_require__(20);exports.DimensionD=__webpack_require__(21);exports.HashMap=__webpack_require__(22);exports.HashSet=__webpack_require__(23);exports.IGeometry=__webpack_require__(8);exports.IMath=__webpack_require__(9);exports.Integer=__webpack_require__(10);
exports.Point=__webpack_require__(12);exports.PointD=__webpack_require__(4);exports.RandomSeed=__webpack_require__(16);exports.RectangleD=__webpack_require__(13);exports.Transform=__webpack_require__(17);exports.UniqueIDGeneretor=__webpack_require__(14);exports.Quicksort=__webpack_require__(24);exports.LinkedList=__webpack_require__(11);exports.LGraphObject=__webpack_require__(2);exports.LGraph=__webpack_require__(5);exports.LEdge=__webpack_require__(1);exports.LGraphManager=__webpack_require__(6);
exports.LNode=__webpack_require__(3);exports.Layout=__webpack_require__(15);exports.LayoutConstants=__webpack_require__(0);exports.NeedlemanWunsch=__webpack_require__(25);module.exports=exports},function(module,exports,__webpack_require__){function Emitter(){this.listeners=[]}exports=Emitter.prototype;exports.addListener=function(event,callback){this.listeners.push({event,callback})};exports.removeListener=function(event,callback){for(var i=this.listeners.length;0<=i;i--){var l=this.listeners[i];
l.event===event&&l.callback===callback&&this.listeners.splice(i,1)}};exports.emit=function(event,data){for(var i=0;i<this.listeners.length;i++){var l=this.listeners[i];event===l.event&&l.callback(data)}};module.exports=Emitter}])})}
//# sourceMappingURL=module$node_modules$layout_base$layout_base.js.map
