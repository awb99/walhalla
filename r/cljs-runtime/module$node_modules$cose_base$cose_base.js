shadow$provide.module$node_modules$cose_base$cose_base=function(global,require,module$jscomp$0,exports$jscomp$0){(function(root,factory){"object"===typeof exports$jscomp$0&&"object"===typeof module$jscomp$0?module$jscomp$0.exports=factory(require("module$node_modules$layout_base$layout_base")):"function"===typeof define&&define.amd?define(["layout-base"],factory):"object"===typeof exports$jscomp$0?exports$jscomp$0.coseBase=factory(require("module$node_modules$layout_base$layout_base")):root.coseBase=
factory(root.layoutBase)})(this,function(__WEBPACK_EXTERNAL_MODULE_0__){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=!0;return module.exports}var installedModules={};__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=
function(value){return value};__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};
__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=7)}([function(module,exports){module.exports=__WEBPACK_EXTERNAL_MODULE_0__},function(module,exports,__webpack_require__){function CoSEConstants(){}exports=__webpack_require__(0).FDLayoutConstants;for(var prop in exports)CoSEConstants[prop]=exports[prop];CoSEConstants.DEFAULT_USE_MULTI_LEVEL_SCALING=!1;CoSEConstants.DEFAULT_RADIAL_SEPARATION=exports.DEFAULT_EDGE_LENGTH;CoSEConstants.DEFAULT_COMPONENT_SEPERATION=60;CoSEConstants.TILE=
!0;CoSEConstants.TILING_PADDING_VERTICAL=10;CoSEConstants.TILING_PADDING_HORIZONTAL=10;CoSEConstants.TREE_REDUCTION_ON_INCREMENTAL=!1;module.exports=CoSEConstants},function(module,exports,__webpack_require__){function CoSEEdge(source,target,vEdge){FDLayoutEdge.call(this,source,target,vEdge)}var FDLayoutEdge=__webpack_require__(0).FDLayoutEdge;CoSEEdge.prototype=Object.create(FDLayoutEdge.prototype);for(var prop in FDLayoutEdge)CoSEEdge[prop]=FDLayoutEdge[prop];module.exports=CoSEEdge},function(module,
exports,__webpack_require__){function CoSEGraph(parent,graphMgr,vGraph){LGraph.call(this,parent,graphMgr,vGraph)}var LGraph=__webpack_require__(0).LGraph;CoSEGraph.prototype=Object.create(LGraph.prototype);for(var prop in LGraph)CoSEGraph[prop]=LGraph[prop];module.exports=CoSEGraph},function(module,exports,__webpack_require__){function CoSEGraphManager(layout){LGraphManager.call(this,layout)}var LGraphManager=__webpack_require__(0).LGraphManager;CoSEGraphManager.prototype=Object.create(LGraphManager.prototype);
for(var prop in LGraphManager)CoSEGraphManager[prop]=LGraphManager[prop];module.exports=CoSEGraphManager},function(module,exports,__webpack_require__){function CoSENode(gm,loc,size,vNode){FDLayoutNode.call(this,gm,loc,size,vNode)}var FDLayoutNode=__webpack_require__(0).FDLayoutNode,IMath=__webpack_require__(0).IMath;CoSENode.prototype=Object.create(FDLayoutNode.prototype);for(var prop in FDLayoutNode)CoSENode[prop]=FDLayoutNode[prop];CoSENode.prototype.move=function(){var layout=this.graphManager.getLayout();
this.displacementX=layout.coolingFactor*(this.springForceX+this.repulsionForceX+this.gravitationForceX)/this.noOfChildren;this.displacementY=layout.coolingFactor*(this.springForceY+this.repulsionForceY+this.gravitationForceY)/this.noOfChildren;Math.abs(this.displacementX)>layout.coolingFactor*layout.maxNodeDisplacement&&(this.displacementX=layout.coolingFactor*layout.maxNodeDisplacement*IMath.sign(this.displacementX));Math.abs(this.displacementY)>layout.coolingFactor*layout.maxNodeDisplacement&&(this.displacementY=
layout.coolingFactor*layout.maxNodeDisplacement*IMath.sign(this.displacementY));null==this.child?this.moveBy(this.displacementX,this.displacementY):0==this.child.getNodes().length?this.moveBy(this.displacementX,this.displacementY):this.propogateDisplacementToChildren(this.displacementX,this.displacementY);layout.totalDisplacement+=Math.abs(this.displacementX)+Math.abs(this.displacementY);this.displacementY=this.displacementX=this.gravitationForceY=this.gravitationForceX=this.repulsionForceY=this.repulsionForceX=
this.springForceY=this.springForceX=0};CoSENode.prototype.propogateDisplacementToChildren=function(dX,dY){for(var nodes=this.getChild().getNodes(),node,i=0;i<nodes.length;i++)node=nodes[i],null==node.getChild()?(node.moveBy(dX,dY),node.displacementX+=dX,node.displacementY+=dY):node.propogateDisplacementToChildren(dX,dY)};CoSENode.prototype.setPred1=function(pred1){this.pred1=pred1};CoSENode.prototype.getPred1=function(){return pred1};CoSENode.prototype.getPred2=function(){return pred2};CoSENode.prototype.setNext=
function(next){this.next=next};CoSENode.prototype.getNext=function(){return next};CoSENode.prototype.setProcessed=function(processed){this.processed=processed};CoSENode.prototype.isProcessed=function(){return processed};module.exports=CoSENode},function(module,exports,__webpack_require__){function CoSELayout(){FDLayout.call(this);this.toBeTiled={}}var FDLayout=__webpack_require__(0).FDLayout,CoSEGraphManager=__webpack_require__(4),CoSEGraph=__webpack_require__(3),CoSENode=__webpack_require__(5),CoSEEdge=
__webpack_require__(2),CoSEConstants=__webpack_require__(1),FDLayoutConstants=__webpack_require__(0).FDLayoutConstants,LayoutConstants=__webpack_require__(0).LayoutConstants,Point=__webpack_require__(0).Point,PointD=__webpack_require__(0).PointD,Layout=__webpack_require__(0).Layout,Integer=__webpack_require__(0).Integer,IGeometry=__webpack_require__(0).IGeometry,LGraph=__webpack_require__(0).LGraph,Transform=__webpack_require__(0).Transform;CoSELayout.prototype=Object.create(FDLayout.prototype);for(var prop in FDLayout)CoSELayout[prop]=
FDLayout[prop];CoSELayout.prototype.newGraphManager=function(){var gm=new CoSEGraphManager(this);return this.graphManager=gm};CoSELayout.prototype.newGraph=function(vGraph){return new CoSEGraph(null,this.graphManager,vGraph)};CoSELayout.prototype.newNode=function(vNode){return new CoSENode(this.graphManager,vNode)};CoSELayout.prototype.newEdge=function(vEdge){return new CoSEEdge(null,null,vEdge)};CoSELayout.prototype.initParameters=function(){FDLayout.prototype.initParameters.call(this,arguments);
this.isSubLayout||(this.idealEdgeLength=10>CoSEConstants.DEFAULT_EDGE_LENGTH?10:CoSEConstants.DEFAULT_EDGE_LENGTH,this.useSmartIdealEdgeLengthCalculation=CoSEConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION,this.springConstant=FDLayoutConstants.DEFAULT_SPRING_STRENGTH,this.repulsionConstant=FDLayoutConstants.DEFAULT_REPULSION_STRENGTH,this.gravityConstant=FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH,this.compoundGravityConstant=FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH,this.gravityRangeFactor=
FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR,this.compoundGravityRangeFactor=FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR,this.prunedNodesAll=[],this.afterGrowthIterations=this.growTreeIterations=0,this.isGrowthFinished=this.isTreeGrowing=!1,this.coolingCycle=0,this.maxCoolingCycle=this.maxIterations/FDLayoutConstants.CONVERGENCE_CHECK_PERIOD,this.finalTemperature=FDLayoutConstants.CONVERGENCE_CHECK_PERIOD/this.maxIterations,this.coolingAdjuster=1)};CoSELayout.prototype.layout=function(){LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED&&
(this.createBendpoints(),this.graphManager.resetAllEdges());this.level=0;return this.classicLayout()};CoSELayout.prototype.classicLayout=function(){this.nodesWithGravity=this.calculateNodesToApplyGravitationTo();this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity);this.calcNoOfChildrenForAllNodes();this.graphManager.calcLowestCommonAncestors();this.graphManager.calcInclusionTreeDepths();this.graphManager.getRoot().calcEstimatedSize();this.calcIdealEdgeLengths();if(this.incremental)CoSEConstants.TREE_REDUCTION_ON_INCREMENTAL&&
(this.reduceTrees(),this.graphManager.resetAllNodesToApplyGravitation(),allNodes=new Set(this.getAllNodes()),forest=this.nodesWithGravity.filter(function(x){return allNodes.has(x)}),this.graphManager.setAllNodesToApplyGravitation(forest));else{var forest=this.getFlatForest();if(0<forest.length)this.positionNodesRadially(forest);else{this.reduceTrees();this.graphManager.resetAllNodesToApplyGravitation();var allNodes=new Set(this.getAllNodes());forest=this.nodesWithGravity.filter(function(x){return allNodes.has(x)});
this.graphManager.setAllNodesToApplyGravitation(forest);this.positionNodesRandomly()}}this.initSpringEmbedder();this.runSpringEmbedder();return!0};CoSELayout.prototype.tick=function(){this.totalIterations++;if(this.totalIterations===this.maxIterations&&!this.isTreeGrowing&&!this.isGrowthFinished)if(0<this.prunedNodesAll.length)this.isTreeGrowing=!0;else return!0;if(0==this.totalIterations%FDLayoutConstants.CONVERGENCE_CHECK_PERIOD&&!this.isTreeGrowing&&!this.isGrowthFinished){if(this.isConverged())if(0<
this.prunedNodesAll.length)this.isTreeGrowing=!0;else return!0;this.coolingCycle++;0==this.layoutQuality?this.coolingAdjuster=this.coolingCycle:1==this.layoutQuality&&(this.coolingAdjuster=this.coolingCycle/3);this.coolingFactor=Math.max(this.initialCoolingFactor-Math.pow(this.coolingCycle,Math.log(100*(this.initialCoolingFactor-this.finalTemperature))/Math.log(this.maxCoolingCycle))/100*this.coolingAdjuster,this.finalTemperature);this.animationPeriod=Math.ceil(this.initialAnimationPeriod*Math.sqrt(this.coolingFactor))}if(this.isTreeGrowing){if(0==
this.growTreeIterations%10)if(0<this.prunedNodesAll.length){this.graphManager.updateBounds();this.updateGrid();this.growTree(this.prunedNodesAll);this.graphManager.resetAllNodesToApplyGravitation();var allNodes=new Set(this.getAllNodes()),intersection=this.nodesWithGravity.filter(function(x){return allNodes.has(x)});this.graphManager.setAllNodesToApplyGravitation(intersection);this.graphManager.updateBounds();this.updateGrid();this.coolingFactor=FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL}else this.isTreeGrowing=
!1,this.isGrowthFinished=!0;this.growTreeIterations++}if(this.isGrowthFinished){if(this.isConverged())return!0;0==this.afterGrowthIterations%10&&(this.graphManager.updateBounds(),this.updateGrid());this.coolingFactor=(100-this.afterGrowthIterations)/100*FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;this.afterGrowthIterations++}intersection=!this.isTreeGrowing&&!this.isGrowthFinished;var forceToNodeSurroundingUpdate=1==this.growTreeIterations%10&&this.isTreeGrowing||1==this.afterGrowthIterations%
10&&this.isGrowthFinished;this.totalDisplacement=0;this.graphManager.updateBounds();this.calcSpringForces();this.calcRepulsionForces(intersection,forceToNodeSurroundingUpdate);this.calcGravitationalForces();this.moveNodes();this.animate();return!1};CoSELayout.prototype.getPositionsData=function(){for(var allNodes=this.graphManager.getAllNodes(),pData={},i=0;i<allNodes.length;i++){var rect=allNodes[i].rect,id=allNodes[i].id;pData[id]={id,x:rect.getCenterX(),y:rect.getCenterY(),w:rect.width,h:rect.height}}return pData};
CoSELayout.prototype.runSpringEmbedder=function(){this.animationPeriod=this.initialAnimationPeriod=25;var layoutEnded=!1;if("during"===FDLayoutConstants.ANIMATE)this.emit("layoutstarted");else{for(;!layoutEnded;)layoutEnded=this.tick();this.graphManager.updateBounds()}};CoSELayout.prototype.calculateNodesToApplyGravitationTo=function(){var nodeList=[],graphs=this.graphManager.getGraphs(),size=graphs.length,i;for(i=0;i<size;i++){var graph=graphs[i];graph.updateConnected();graph.isConnected||(nodeList=
nodeList.concat(graph.getNodes()))}return nodeList};CoSELayout.prototype.createBendpoints=function(){var edges=[];edges=edges.concat(this.graphManager.getAllEdges());var visited=new Set,i;for(i=0;i<edges.length;i++){var edge$jscomp$0=edges[i];if(!visited.has(edge$jscomp$0)){var source=edge$jscomp$0.getSource(),target=edge$jscomp$0.getTarget();if(source==target)edge$jscomp$0.getBendpoints().push(new PointD),edge$jscomp$0.getBendpoints().push(new PointD),this.createDummyNodesForBendpoints(edge$jscomp$0),
visited.add(edge$jscomp$0);else if(edge$jscomp$0=[],edge$jscomp$0=edge$jscomp$0.concat(source.getEdgeListToNode(target)),edge$jscomp$0=edge$jscomp$0.concat(target.getEdgeListToNode(source)),!visited.has(edge$jscomp$0[0])){if(1<edge$jscomp$0.length)for(source=0;source<edge$jscomp$0.length;source++)target=edge$jscomp$0[source],target.getBendpoints().push(new PointD),this.createDummyNodesForBendpoints(target);edge$jscomp$0.forEach(function(edge){visited.add(edge)})}}if(visited.size==edges.length)break}};
CoSELayout.prototype.positionNodesRadially=function(forest){for(var currentStartingPoint=new Point(0,0),numberOfColumns=Math.ceil(Math.sqrt(forest.length)),height=0,currentY=0,currentX=0,point=new PointD(0,0),i=0;i<forest.length;i++){0==i%numberOfColumns&&(currentX=0,currentY=height,0!=i&&(currentY+=CoSEConstants.DEFAULT_COMPONENT_SEPERATION),height=0);point=forest[i];var centerNode=Layout.findCenterOfTree(point);currentStartingPoint.x=currentX;currentStartingPoint.y=currentY;point=CoSELayout.radialLayout(point,
centerNode,currentStartingPoint);point.y>height&&(height=Math.floor(point.y));currentX=Math.floor(point.x+CoSEConstants.DEFAULT_COMPONENT_SEPERATION)}this.transform(new PointD(LayoutConstants.WORLD_CENTER_X-point.x/2,LayoutConstants.WORLD_CENTER_Y-point.y/2))};CoSELayout.radialLayout=function(tree,centerNode,startingPoint){var radialSep=Math.max(this.maxDiagonalInTree(tree),CoSEConstants.DEFAULT_RADIAL_SEPARATION);CoSELayout.branchRadialLayout(centerNode,null,0,359,0,radialSep);radialSep=LGraph.calculateBounds(tree);
centerNode=new Transform;centerNode.setDeviceOrgX(radialSep.getMinX());centerNode.setDeviceOrgY(radialSep.getMinY());centerNode.setWorldOrgX(startingPoint.x);centerNode.setWorldOrgY(startingPoint.y);for(startingPoint=0;startingPoint<tree.length;startingPoint++)tree[startingPoint].transform(centerNode);tree=new PointD(radialSep.getMaxX(),radialSep.getMaxY());return centerNode.inverseTransformPoint(tree)};CoSELayout.branchRadialLayout=function(node,parentOfNode,startAngle,endAngle,distance,radialSeparation){var halfInterval=
(endAngle-startAngle+1)/2;0>halfInterval&&(halfInterval+=180);halfInterval=(halfInterval+startAngle)%360*IGeometry.TWO_PI/360;node.setCenter(distance*Math.cos(halfInterval),distance*Math.sin(halfInterval));halfInterval=[];halfInterval=halfInterval.concat(node.getEdges());var childCount=halfInterval.length;null!=parentOfNode&&childCount--;var branchCount=0,incEdgesCount=halfInterval.length,startIndex;for(startIndex=node.getEdgesBetween(parentOfNode);1<startIndex.length;){var temp=startIndex[0];startIndex.splice(0,
1);temp=halfInterval.indexOf(temp);0<=temp&&halfInterval.splice(temp,1);incEdgesCount--;childCount--}startIndex=null!=parentOfNode?(halfInterval.indexOf(startIndex[0])+1)%incEdgesCount:0;for(endAngle=Math.abs(endAngle-startAngle)/childCount;branchCount!=childCount;startIndex=++startIndex%incEdgesCount)if(temp=halfInterval[startIndex].getOtherEnd(node),temp!=parentOfNode){var childStartAngle=(startAngle+branchCount*endAngle)%360;CoSELayout.branchRadialLayout(temp,node,childStartAngle,(childStartAngle+
endAngle)%360,distance+radialSeparation,radialSeparation);branchCount++}};CoSELayout.maxDiagonalInTree=function(tree){for(var maxDiagonal=Integer.MIN_VALUE,i=0;i<tree.length;i++){var diagonal=tree[i].getDiagonal();diagonal>maxDiagonal&&(maxDiagonal=diagonal)}return maxDiagonal};CoSELayout.prototype.calcRepulsionRange=function(){return 2*(this.level+1)*this.idealEdgeLength};CoSELayout.prototype.groupZeroDegreeMembers=function(){var self=this,tempMemberGroups={};this.memberGroups={};this.idToDummyNode=
{};for(var zeroDegree=[],allNodes=this.graphManager.getAllNodes(),i=0;i<allNodes.length;i++){var node$jscomp$0=allNodes[i],parent$jscomp$0=node$jscomp$0.getParent();0!==this.getNodeDegreeWithChildren(node$jscomp$0)||void 0!=parent$jscomp$0.id&&this.getToBeTiled(parent$jscomp$0)||zeroDegree.push(node$jscomp$0)}for(i=0;i<zeroDegree.length;i++)node$jscomp$0=zeroDegree[i],allNodes=node$jscomp$0.getParent().id,"undefined"===typeof tempMemberGroups[allNodes]&&(tempMemberGroups[allNodes]=[]),tempMemberGroups[allNodes]=
tempMemberGroups[allNodes].concat(node$jscomp$0);Object.keys(tempMemberGroups).forEach(function(p_id){if(1<tempMemberGroups[p_id].length){var dummyCompoundId="DummyCompound_"+p_id;self.memberGroups[dummyCompoundId]=tempMemberGroups[p_id];var parent=tempMemberGroups[p_id][0].getParent(),dummyCompound=new CoSENode(self.graphManager);dummyCompound.id=dummyCompoundId;dummyCompound.paddingLeft=parent.paddingLeft||0;dummyCompound.paddingRight=parent.paddingRight||0;dummyCompound.paddingBottom=parent.paddingBottom||
0;dummyCompound.paddingTop=parent.paddingTop||0;self.idToDummyNode[dummyCompoundId]=dummyCompound;dummyCompoundId=self.getGraphManager().add(self.newGraph(),dummyCompound);parent=parent.getChild();parent.add(dummyCompound);for(dummyCompound=0;dummyCompound<tempMemberGroups[p_id].length;dummyCompound++){var node=tempMemberGroups[p_id][dummyCompound];parent.remove(node);dummyCompoundId.add(node)}}})};CoSELayout.prototype.clearCompounds=function(){var childGraphMap={},idToNode={};this.performDFSOnCompounds();
for(var i=0;i<this.compoundOrder.length;i++)idToNode[this.compoundOrder[i].id]=this.compoundOrder[i],childGraphMap[this.compoundOrder[i].id]=[].concat(this.compoundOrder[i].getChild().getNodes()),this.graphManager.remove(this.compoundOrder[i].getChild()),this.compoundOrder[i].child=null;this.graphManager.resetAllNodes();this.tileCompoundMembers(childGraphMap,idToNode)};CoSELayout.prototype.clearZeroDegreeMembers=function(){var self=this,tiledZeroDegreePack=this.tiledZeroDegreePack=[];Object.keys(this.memberGroups).forEach(function(id){var compoundNode=
self.idToDummyNode[id];tiledZeroDegreePack[id]=self.tileNodes(self.memberGroups[id],compoundNode.paddingLeft+compoundNode.paddingRight);compoundNode.rect.width=tiledZeroDegreePack[id].width;compoundNode.rect.height=tiledZeroDegreePack[id].height})};CoSELayout.prototype.repopulateCompounds=function(){for(var i=this.compoundOrder.length-1;0<=i;i--){var lCompoundNode=this.compoundOrder[i];this.adjustLocations(this.tiledMemberPack[lCompoundNode.id],lCompoundNode.rect.x,lCompoundNode.rect.y,lCompoundNode.paddingLeft,
lCompoundNode.paddingTop)}};CoSELayout.prototype.repopulateZeroDegreeMembers=function(){var self=this,tiledPack=this.tiledZeroDegreePack;Object.keys(tiledPack).forEach(function(id){var compoundNode=self.idToDummyNode[id];self.adjustLocations(tiledPack[id],compoundNode.rect.x,compoundNode.rect.y,compoundNode.paddingLeft,compoundNode.paddingTop)})};CoSELayout.prototype.getToBeTiled=function(node){var id=node.id;if(null!=this.toBeTiled[id])return this.toBeTiled[id];node=node.getChild();if(null==node)return this.toBeTiled[id]=
!1;node=node.getNodes();for(var i=0;i<node.length;i++){var theChild=node[i];if(0<this.getNodeDegree(theChild))return this.toBeTiled[id]=!1;if(null==theChild.getChild())this.toBeTiled[theChild.id]=!1;else if(!this.getToBeTiled(theChild))return this.toBeTiled[id]=!1}return this.toBeTiled[id]=!0};CoSELayout.prototype.getNodeDegree=function(node){node=node.getEdges();for(var degree=0,i=0;i<node.length;i++){var edge=node[i];edge.getSource().id!==edge.getTarget().id&&(degree+=1)}return degree};CoSELayout.prototype.getNodeDegreeWithChildren=
function(node){var degree=this.getNodeDegree(node);if(null==node.getChild())return degree;node=node.getChild().getNodes();for(var i=0;i<node.length;i++)degree+=this.getNodeDegreeWithChildren(node[i]);return degree};CoSELayout.prototype.performDFSOnCompounds=function(){this.compoundOrder=[];this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes())};CoSELayout.prototype.fillCompexOrderByDFS=function(children){for(var i=0;i<children.length;i++){var child=children[i];null!=child.getChild()&&this.fillCompexOrderByDFS(child.getChild().getNodes());
this.getToBeTiled(child)&&this.compoundOrder.push(child)}};CoSELayout.prototype.adjustLocations=function(organization,x,y,compoundHorizontalMargin,compoundVerticalMargin){y+=compoundVerticalMargin;compoundHorizontalMargin=x+compoundHorizontalMargin;for(compoundVerticalMargin=0;compoundVerticalMargin<organization.rows.length;compoundVerticalMargin++){var row=organization.rows[compoundVerticalMargin];x=compoundHorizontalMargin;for(var maxHeight=0,j=0;j<row.length;j++){var lnode=row[j];lnode.rect.x=
x;lnode.rect.y=y;x+=lnode.rect.width+organization.horizontalPadding;lnode.rect.height>maxHeight&&(maxHeight=lnode.rect.height)}y+=maxHeight+organization.verticalPadding}};CoSELayout.prototype.tileCompoundMembers=function(childGraphMap,idToNode){var self=this;this.tiledMemberPack=[];Object.keys(childGraphMap).forEach(function(id){var compoundNode=idToNode[id];self.tiledMemberPack[id]=self.tileNodes(childGraphMap[id],compoundNode.paddingLeft+compoundNode.paddingRight);compoundNode.rect.width=self.tiledMemberPack[id].width;
compoundNode.rect.height=self.tiledMemberPack[id].height})};CoSELayout.prototype.tileNodes=function(nodes,minWidth){var organization={rows:[],rowWidth:[],rowHeight:[],width:0,height:minWidth,verticalPadding:CoSEConstants.TILING_PADDING_VERTICAL,horizontalPadding:CoSEConstants.TILING_PADDING_HORIZONTAL};nodes.sort(function(n1,n2){return n1.rect.width*n1.rect.height>n2.rect.width*n2.rect.height?-1:n1.rect.width*n1.rect.height<n2.rect.width*n2.rect.height?1:0});for(var i=0;i<nodes.length;i++){var lNode=
nodes[i];0==organization.rows.length?this.insertNodeToRow(organization,lNode,0,minWidth):this.canAddHorizontal(organization,lNode.rect.width,lNode.rect.height)?this.insertNodeToRow(organization,lNode,this.getShortestRowIndex(organization),minWidth):this.insertNodeToRow(organization,lNode,organization.rows.length,minWidth);this.shiftToLastRow(organization)}return organization};CoSELayout.prototype.insertNodeToRow=function(organization,node,rowIndex,minWidth){rowIndex==organization.rows.length&&(organization.rows.push([]),
organization.rowWidth.push(minWidth),organization.rowHeight.push(0));minWidth=organization.rowWidth[rowIndex]+node.rect.width;0<organization.rows[rowIndex].length&&(minWidth+=organization.horizontalPadding);organization.rowWidth[rowIndex]=minWidth;organization.width<minWidth&&(organization.width=minWidth);minWidth=node.rect.height;0<rowIndex&&(minWidth+=organization.verticalPadding);var extraHeight=0;minWidth>organization.rowHeight[rowIndex]&&(extraHeight=organization.rowHeight[rowIndex],organization.rowHeight[rowIndex]=
minWidth,extraHeight=organization.rowHeight[rowIndex]-extraHeight);organization.height+=extraHeight;organization.rows[rowIndex].push(node)};CoSELayout.prototype.getShortestRowIndex=function(organization){for(var r=-1,min=Number.MAX_VALUE,i=0;i<organization.rows.length;i++)organization.rowWidth[i]<min&&(r=i,min=organization.rowWidth[i]);return r};CoSELayout.prototype.getLongestRowIndex=function(organization){for(var r=-1,max=Number.MIN_VALUE,i=0;i<organization.rows.length;i++)organization.rowWidth[i]>
max&&(r=i,max=organization.rowWidth[i]);return r};CoSELayout.prototype.canAddHorizontal=function(organization,extraWidth,extraHeight){var sri=this.getShortestRowIndex(organization);if(0>sri)return!0;var min=organization.rowWidth[sri];if(min+organization.horizontalPadding+extraWidth<=organization.width)return!0;var hDiff=0;organization.rowHeight[sri]<extraHeight&&0<sri&&(hDiff=extraHeight+organization.verticalPadding-organization.rowHeight[sri]);sri=organization.width-min>=extraWidth+organization.horizontalPadding?
(organization.height+hDiff)/(min+extraWidth+organization.horizontalPadding):(organization.height+hDiff)/organization.width;hDiff=extraHeight+organization.verticalPadding;organization=organization.width<extraWidth?(organization.height+hDiff)/extraWidth:(organization.height+hDiff)/organization.width;1>organization&&(organization=1/organization);1>sri&&(sri=1/sri);return sri<organization};CoSELayout.prototype.shiftToLastRow=function(organization){var longest=this.getLongestRowIndex(organization),last=
organization.rowWidth.length-1,row=organization.rows[longest],node=row[row.length-1],diff=node.width+organization.horizontalPadding;if(organization.width-organization.rowWidth[last]>diff&&longest!=last){row.splice(-1,1);organization.rows[last].push(node);organization.rowWidth[longest]-=diff;organization.rowWidth[last]+=diff;organization.width=organization.rowWidth[instance.getLongestRowIndex(organization)];diff=Number.MIN_VALUE;for(var i=0;i<row.length;i++)row[i].height>diff&&(diff=row[i].height);
0<longest&&(diff+=organization.verticalPadding);row=organization.rowHeight[longest]+organization.rowHeight[last];organization.rowHeight[longest]=diff;organization.rowHeight[last]<node.height+organization.verticalPadding&&(organization.rowHeight[last]=node.height+organization.verticalPadding);organization.height+=organization.rowHeight[longest]+organization.rowHeight[last]-row;this.shiftToLastRow(organization)}};CoSELayout.prototype.tilingPreLayout=function(){CoSEConstants.TILE&&(this.groupZeroDegreeMembers(),
this.clearCompounds(),this.clearZeroDegreeMembers())};CoSELayout.prototype.tilingPostLayout=function(){CoSEConstants.TILE&&(this.repopulateZeroDegreeMembers(),this.repopulateCompounds())};CoSELayout.prototype.reduceTrees=function(){for(var prunedNodesAll=[],containsLeaf=!0,node;containsLeaf;){var allNodes=this.graphManager.getAllNodes(),prunedNodesInStepTemp=[];containsLeaf=!1;for(var i=0;i<allNodes.length;i++)node=allNodes[i],1!=node.getEdges().length||node.getEdges()[0].isInterGraph||null!=node.getChild()||
(prunedNodesInStepTemp.push([node,node.getEdges()[0],node.getOwner()]),containsLeaf=!0);if(1==containsLeaf){node=[];for(allNodes=0;allNodes<prunedNodesInStepTemp.length;allNodes++)1==prunedNodesInStepTemp[allNodes][0].getEdges().length&&(node.push(prunedNodesInStepTemp[allNodes]),prunedNodesInStepTemp[allNodes][0].getOwner().remove(prunedNodesInStepTemp[allNodes][0]));prunedNodesAll.push(node);this.graphManager.resetAllNodes();this.graphManager.resetAllEdges()}}this.prunedNodesAll=prunedNodesAll};
CoSELayout.prototype.growTree=function(prunedNodesAll){for(var prunedNodesInStep=prunedNodesAll[prunedNodesAll.length-1],nodeData,i=0;i<prunedNodesInStep.length;i++)nodeData=prunedNodesInStep[i],this.findPlaceforPrunedNode(nodeData),nodeData[2].add(nodeData[0]),nodeData[2].add(nodeData[1],nodeData[1].source,nodeData[1].target);prunedNodesAll.splice(prunedNodesAll.length-1,1);this.graphManager.resetAllNodes();this.graphManager.resetAllEdges()};CoSELayout.prototype.findPlaceforPrunedNode=function(nodeData){var gridForPrunedNode,
prunedNode=nodeData[0];nodeData=prunedNode==nodeData[1].source?nodeData[1].target:nodeData[1].source;var startGridX=nodeData.startX,finishGridX=nodeData.finishX,startGridY=nodeData.startY,finishGridY=nodeData.finishY,controlRegions=[0,0,0,0];if(0<startGridY)for(var i=startGridX;i<=finishGridX;i++)controlRegions[0]+=this.grid[i][startGridY-1].length+this.grid[i][startGridY].length-1;if(finishGridX<this.grid.length-1)for(i=startGridY;i<=finishGridY;i++)controlRegions[1]+=this.grid[finishGridX+1][i].length+
this.grid[finishGridX][i].length-1;if(finishGridY<this.grid[0].length-1)for(i=startGridX;i<=finishGridX;i++)controlRegions[2]+=this.grid[i][finishGridY+1].length+this.grid[i][finishGridY].length-1;if(0<startGridX)for(i=startGridY;i<=finishGridY;i++)controlRegions[3]+=this.grid[startGridX-1][i].length+this.grid[startGridX][i].length-1;startGridX=Integer.MAX_VALUE;for(finishGridX=0;finishGridX<controlRegions.length;finishGridX++)if(controlRegions[finishGridX]<startGridX){startGridX=controlRegions[finishGridX];
var minCount=1;var minIndex=finishGridX}else controlRegions[finishGridX]==startGridX&&minCount++;3==minCount&&0==startGridX?0==controlRegions[0]&&0==controlRegions[1]&&0==controlRegions[2]?gridForPrunedNode=1:0==controlRegions[0]&&0==controlRegions[1]&&0==controlRegions[3]?gridForPrunedNode=0:0==controlRegions[0]&&0==controlRegions[2]&&0==controlRegions[3]?gridForPrunedNode=3:0==controlRegions[1]&&0==controlRegions[2]&&0==controlRegions[3]&&(gridForPrunedNode=2):2==minCount&&0==startGridX?(gridForPrunedNode=
Math.floor(2*Math.random()),gridForPrunedNode=0==controlRegions[0]&&0==controlRegions[1]?0==gridForPrunedNode?0:1:0==controlRegions[0]&&0==controlRegions[2]?0==gridForPrunedNode?0:2:0==controlRegions[0]&&0==controlRegions[3]?0==gridForPrunedNode?0:3:0==controlRegions[1]&&0==controlRegions[2]?0==gridForPrunedNode?1:2:0==controlRegions[1]&&0==controlRegions[3]?0==gridForPrunedNode?1:3:0==gridForPrunedNode?2:3):gridForPrunedNode=4==minCount&&0==startGridX?Math.floor(4*Math.random()):minIndex;0==gridForPrunedNode?
prunedNode.setCenter(nodeData.getCenterX(),nodeData.getCenterY()-nodeData.getHeight()/2-FDLayoutConstants.DEFAULT_EDGE_LENGTH-prunedNode.getHeight()/2):1==gridForPrunedNode?prunedNode.setCenter(nodeData.getCenterX()+nodeData.getWidth()/2+FDLayoutConstants.DEFAULT_EDGE_LENGTH+prunedNode.getWidth()/2,nodeData.getCenterY()):2==gridForPrunedNode?prunedNode.setCenter(nodeData.getCenterX(),nodeData.getCenterY()+nodeData.getHeight()/2+FDLayoutConstants.DEFAULT_EDGE_LENGTH+prunedNode.getHeight()/2):prunedNode.setCenter(nodeData.getCenterX()-
nodeData.getWidth()/2-FDLayoutConstants.DEFAULT_EDGE_LENGTH-prunedNode.getWidth()/2,nodeData.getCenterY())};module.exports=CoSELayout},function(module,exports,__webpack_require__){exports={};exports.layoutBase=__webpack_require__(0);exports.CoSEConstants=__webpack_require__(1);exports.CoSEEdge=__webpack_require__(2);exports.CoSEGraph=__webpack_require__(3);exports.CoSEGraphManager=__webpack_require__(4);exports.CoSELayout=__webpack_require__(6);exports.CoSENode=__webpack_require__(5);module.exports=
exports}])})}
//# sourceMappingURL=module$node_modules$cose_base$cose_base.js.map
