{"version":3,"sources":["modular/encoding/time.cljc"],"mappings":";AAoBA,AAAKA,uCAEM,yDAAA,zDAACC;AAEZ,AAAKC,uCAEM,yDAAA,zDAACD;AAEZ,AAAKE,4CAEM,yDAAA,zDAACF;AAEZ,AAAKG,4CAEM,yDAAA,zDAACH;AAKT,sDAAA,2CAAA,2DAAA,2CAAA,vMAAKI,mNAEe,+BAAA,WAAAC,1CAACC;AAAD,AAAuB,iGAAAD,1FAACE,qDAASR;IAFrD,YAGoB,+BAAA,WAAAS,1CAACF;AAAD,AAAuB,iGAAAE,1FAACD,qDAASN;IAHrD,gBAIoB,+BAAA,WAAAQ,1CAACH;AAAD,AAAuB,sGAAAG,/FAACF,qDAASL;IAJrD,gBAKoB,+BAAA,WAAAQ,1CAACJ;AAAD,AAAuB,sGAAAI,/FAACH,qDAASJ;;AAGrD,oDAAA,2CAAA,2DAAA,1JAAKQ,0MAEDC,eAAsB,gGAAA,WAAAC,3GAACC,8DACA,qBAAA,rBAACC;AADF,AAEE,qEAAAF,9DAACG,yBAAWf;IACpCgB,mBAAsB,oGAAA,WAAAC,/GAACJ,8DACA,qBAAA,rBAACC;AADF,AAEE,0EAAAG,nEAACF,yBAAWd;IACpCiB,sBAAsB,oGAAA,WAAAC,/GAACN,8DACA,qBAAA,rBAACC;AADF,AAEE,0EAAAK,nEAACJ,yBAAWb","names":["modular.encoding.time/iso-local-time","cljs_time.format.formatter","modular.encoding.time/iso-local-date","modular.encoding.time/iso-local-date-time","modular.encoding.time/iso-zoned-date-time","modular.encoding.time/time-deserialization-handlers","p1__58563#","cognitect.transit/read-handler","cljs_time.format.parse","p1__58564#","p1__58565#","p1__58566#","modular.encoding.time/time-serialization-handlers","js/goog.date.Date","p1__58568#","cognitect.transit.write_handler","cljs.core/constantly","cljs-time.format/unparse","js/goog.date.DateTime","p1__58569#","js/goog.date.UtcDateTime","p1__58570#"],"sourcesContent":["(ns modular.encoding.time\n  (:require\n   [cognitect.transit :as transit]\n   #?@(:cljs\n       [[cljs-time.core :as t]\n        [cljs-time.format :as tf]\n        goog.date.Date\n        goog.date.DateTime\n        goog.date.UtcDateTime]))\n  #?(:clj\n     (:import [java.time\n               LocalTime\n               LocalDate\n               LocalDateTime\n               ZonedDateTime]\n              [java.time.format\n               DateTimeFormatter])))\n;; stolen from:\n;; https://github.com/luminus-framework/luminus-transit/blob/master/src/luminus_transit/time.cljc\n\n(def iso-local-time\n  #?(:clj (DateTimeFormatter/ofPattern \"HH:mm:ss.SSS\"))\n  #?(:cljs (tf/formatter \"HH:mm:ss.SSS\")))\n\n(def iso-local-date\n  #?(:clj (DateTimeFormatter/ofPattern \"yyyy-MM-dd\"))\n  #?(:cljs (tf/formatter \"yyyy-MM-dd\")))\n\n(def iso-local-date-time\n  #?(:clj (DateTimeFormatter/ofPattern \"yyyy-MM-dd'T'HH:mm:ss.SSS\"))\n  #?(:cljs (tf/formatter \"yyyy-MM-dd'T'HH:mm:ss.SSS\")))\n\n(def iso-zoned-date-time\n  #?(:clj (DateTimeFormatter/ofPattern \"yyyy-MM-dd'T'HH:mm:ss.SSSXX\"))\n  #?(:cljs (tf/formatter \"yyyy-MM-dd'T'HH:mm:ss.SSSZ\")))\n\n;; TRANSIT\n\n#?(:cljs\n   (def time-deserialization-handlers\n     {:handlers\n      {\"LocalTime\"     (transit/read-handler #(tf/parse iso-local-time %))\n       \"LocalDate\"     (transit/read-handler #(tf/parse iso-local-date %))\n       \"LocalDateTime\" (transit/read-handler #(tf/parse iso-local-date-time %))\n       \"ZonedDateTime\" (transit/read-handler #(tf/parse iso-zoned-date-time %))}}))\n\n#?(:cljs\n   (def time-serialization-handlers\n     {:handlers\n      {goog.date.Date        (transit/write-handler\n                              (constantly \"LocalDate\")\n                              #(tf/unparse iso-local-date %))\n       goog.date.DateTime    (transit/write-handler\n                              (constantly \"LocalDateTime\")\n                              #(tf/unparse iso-local-date-time %))\n       goog.date.UtcDateTime (transit/write-handler\n                              (constantly \"ZonedDateTime\")\n                              #(tf/unparse iso-zoned-date-time %))}}))\n\n#?(:clj\n   (def time-deserialization-handlers\n     {:handlers\n      {\"LocalTime\"     (transit/read-handler #(java.time.LocalDate/parse % iso-local-time))\n       \"LocalDate\"     (transit/read-handler #(java.time.LocalDate/parse % iso-local-date))\n       \"LocalDateTime\" (transit/read-handler #(java.time.LocalDateTime/parse % iso-local-date-time))\n       \"ZonedDateTime\" (transit/read-handler #(java.time.LocalDate/parse % iso-zoned-date-time))}}))\n\n#?(:clj\n   (def time-serialization-handlers\n     {:handlers\n      {java.time.LocalTime     (transit/write-handler\n                                (constantly \"LocalTime\")\n                                #(.format % iso-local-time))\n       java.time.LocalDate     (transit/write-handler\n                                (constantly \"LocalDate\")\n                                #(.format % iso-local-date))\n       java.time.LocalDateTime (transit/write-handler\n                                (constantly \"LocalDateTime\")\n                                #(.format % iso-local-date-time))\n       java.time.ZonedDateTime (transit/write-handler\n                                (constantly \"ZonedDateTime\")\n                                #(.format % iso-zoned-date-time))}}))\n\n;; EDN\n\n"],"x_google_ignoreList":[0]}