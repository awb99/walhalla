shadow$provide.module$node_modules$heap$lib$heap=function(global,require,module,exports){(function(){var floor=Math.floor;var min=Math.min;var defaultCmp=function(x,y){return x<y?-1:x>y?1:0};var insort=function(a,x,lo,hi,cmp){null==lo&&(lo=0);null==cmp&&(cmp=defaultCmp);if(0>lo)throw Error("lo must be non-negative");null==hi&&(hi=a.length);for(;lo<hi;){var mid=floor((lo+hi)/2);0>cmp(x,a[mid])?hi=mid:lo=mid+1}return[].splice.apply(a,[lo,lo-lo].concat(x)),x};var heappush=function(array,item,cmp){null==
cmp&&(cmp=defaultCmp);array.push(item);return _siftdown(array,0,array.length-1,cmp)};var heappop=function(array,cmp){null==cmp&&(cmp=defaultCmp);var lastelt=array.pop();if(array.length){var returnitem=array[0];array[0]=lastelt;_siftup(array,0,cmp)}else returnitem=lastelt;return returnitem};var heapreplace=function(array,item,cmp){null==cmp&&(cmp=defaultCmp);var returnitem=array[0];array[0]=item;_siftup(array,0,cmp);return returnitem};var heappushpop=function(array,item,cmp){null==cmp&&(cmp=defaultCmp);
if(array.length&&0>cmp(array[0],item)){var _ref=[array[0],item];item=_ref[0];array[0]=_ref[1];_siftup(array,0,cmp)}return item};var heapify=function(array,cmp){var _len,_results1;null==cmp&&(cmp=defaultCmp);var _ref1=function(){_results1=[];for(var _j=0,_ref=floor(array.length/2);0<=_ref?_j<_ref:_j>_ref;0<=_ref?_j++:_j--)_results1.push(_j);return _results1}.apply(this).reverse();var _results=[];var _i=0;for(_len=_ref1.length;_i<_len;_i++){var i=_ref1[_i];_results.push(_siftup(array,i,cmp))}return _results};
var updateItem=function(array,item,cmp){null==cmp&&(cmp=defaultCmp);item=array.indexOf(item);if(-1!==item)return _siftdown(array,0,item,cmp),_siftup(array,item,cmp)};var nlargest=function(array,n,cmp){var _len;null==cmp&&(cmp=defaultCmp);var result=array.slice(0,n);if(!result.length)return result;heapify(result,cmp);var _ref=array.slice(n);n=0;for(_len=_ref.length;n<_len;n++)array=_ref[n],heappushpop(result,array,cmp);return result.sort(cmp).reverse()};var nsmallest=function(array,n,cmp){var _len;
null==cmp&&(cmp=defaultCmp);if(10*n<=array.length){var result=array.slice(0,n).sort(cmp);if(!result.length)return result;var los=result[result.length-1];var _ref=array.slice(n);n=0;for(_len=_ref.length;n<_len;n++)array=_ref[n],0>cmp(array,los)&&(insort(result,array,0,null,cmp),result.pop(),los=result[result.length-1]);return result}heapify(array,cmp);result=[];los=0;for(n=min(n,array.length);0<=n?los<n:los>n;0<=n?++los:--los)result.push(heappop(array,cmp));return result};var _siftdown=function(array,
startpos,pos,cmp){var newitem;null==cmp&&(cmp=defaultCmp);for(newitem=array[pos];pos>startpos;){var parentpos=pos-1>>1;var parent=array[parentpos];if(0>cmp(newitem,parent))array[pos]=parent,pos=parentpos;else break}return array[pos]=newitem};var _siftup=function(array,pos,cmp){var childpos;null==cmp&&(cmp=defaultCmp);var endpos=array.length;var startpos=pos;var newitem=array[pos];for(childpos=2*pos+1;childpos<endpos;){var rightpos=childpos+1;rightpos<endpos&&!(0>cmp(array[childpos],array[rightpos]))&&
(childpos=rightpos);array[pos]=array[childpos];pos=childpos;childpos=2*pos+1}array[pos]=newitem;return _siftdown(array,startpos,pos,cmp)};var Heap=function(){function Heap(cmp){this.cmp=null!=cmp?cmp:defaultCmp;this.nodes=[]}Heap.push=heappush;Heap.pop=heappop;Heap.replace=heapreplace;Heap.pushpop=heappushpop;Heap.heapify=heapify;Heap.updateItem=updateItem;Heap.nlargest=nlargest;Heap.nsmallest=nsmallest;Heap.prototype.push=function(x){return heappush(this.nodes,x,this.cmp)};Heap.prototype.pop=function(){return heappop(this.nodes,
this.cmp)};Heap.prototype.peek=function(){return this.nodes[0]};Heap.prototype.contains=function(x){return-1!==this.nodes.indexOf(x)};Heap.prototype.replace=function(x){return heapreplace(this.nodes,x,this.cmp)};Heap.prototype.pushpop=function(x){return heappushpop(this.nodes,x,this.cmp)};Heap.prototype.heapify=function(){return heapify(this.nodes,this.cmp)};Heap.prototype.updateItem=function(x){return updateItem(this.nodes,x,this.cmp)};Heap.prototype.clear=function(){return this.nodes=[]};Heap.prototype.empty=
function(){return 0===this.nodes.length};Heap.prototype.size=function(){return this.nodes.length};Heap.prototype.clone=function(){var heap=new Heap;heap.nodes=this.nodes.slice(0);return heap};Heap.prototype.toArray=function(){return this.nodes.slice(0)};Heap.prototype.insert=Heap.prototype.push;Heap.prototype.top=Heap.prototype.peek;Heap.prototype.front=Heap.prototype.peek;Heap.prototype.has=Heap.prototype.contains;Heap.prototype.copy=Heap.prototype.clone;return Heap}();(function(root,factory){return"function"===
typeof define&&define.amd?define([],factory):"object"===typeof exports?module.exports=factory():root.Heap=factory()})(this,function(){return Heap})}).call(this)}
//# sourceMappingURL=module$node_modules$heap$lib$heap.js.map
