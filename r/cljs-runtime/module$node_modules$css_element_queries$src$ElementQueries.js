shadow$provide.module$node_modules$css_element_queries$src$ElementQueries=function(global,require,module,exports){(function(root,factory){"function"===typeof define&&define.amd?define(["./ResizeSensor.js"],factory):"object"===typeof exports?module.exports=factory(require("module$node_modules$css_element_queries$src$ResizeSensor")):(root.ElementQueries=factory(root.ResizeSensor),root.ElementQueries.listen())})("undefined"!==typeof window?window:this,function(ResizeSensor){var ElementQueries=function(){function getEmSize(element){element||
(element=document.documentElement);element=window.getComputedStyle(element,null).fontSize;return parseFloat(element)||16}function convertToPx(element,value){var numbers=value.split(/\d/);numbers=numbers[numbers.length-1];value=parseFloat(value);switch(numbers){case "px":return value;case "em":return value*getEmSize(element);case "rem":return value*getEmSize();case "vw":return value*document.documentElement.clientWidth/100;case "vh":return value*document.documentElement.clientHeight/100;case "vmin":case "vmax":return value*
(0,Math["vmin"===numbers?"min":"max"])(document.documentElement.clientWidth/100,document.documentElement.clientHeight/100);default:return value}}function SetupInformation(element$jscomp$0,id){var JSCompiler_object_inline_width_2345,JSCompiler_object_inline_height_2346;this.element=element$jscomp$0;var key,option,value,actualValue,attrValues,attrValue,attrName,attributes=["min-width","min-height","max-width","max-height"];this.call=function(){var element=this.element;element.getBoundingClientRect?
(element=element.getBoundingClientRect(),JSCompiler_object_inline_width_2345=Math.round(element.width),JSCompiler_object_inline_height_2346=Math.round(element.height)):(JSCompiler_object_inline_width_2345=element.offsetWidth,JSCompiler_object_inline_height_2346=element.offsetHeight);attrValues={};for(key in allQueries[id])allQueries[id].hasOwnProperty(key)&&(option=allQueries[id][key],value=convertToPx(this.element,option.value),actualValue="width"===option.property?JSCompiler_object_inline_width_2345:
JSCompiler_object_inline_height_2346,attrName=option.mode+"-"+option.property,attrValue="","min"===option.mode&&actualValue>=value&&(attrValue+=option.value),"max"===option.mode&&actualValue<=value&&(attrValue+=option.value),attrValues[attrName]||(attrValues[attrName]=""),attrValue&&-1===(" "+attrValues[attrName]+" ").indexOf(" "+attrValue+" ")&&(attrValues[attrName]+=" "+attrValue));for(var k in attributes)attributes.hasOwnProperty(k)&&(attrValues[attributes[k]]?this.element.setAttribute(attributes[k],
attrValues[attributes[k]].substr(1)):this.element.removeAttribute(attributes[k]))}}function setupElement(element,id){element.elementQueriesSetupInformation||(element.elementQueriesSetupInformation=new SetupInformation(element,id));element.elementQueriesSensor||(element.elementQueriesSensor=new ResizeSensor(element,function(){element.elementQueriesSetupInformation.call()}))}function getQuery(container){var query;document.querySelectorAll&&(query=container?container.querySelectorAll.bind(container):
document.querySelectorAll.bind(document));query||"undefined"===typeof $$||(query=$$);query||"undefined"===typeof jQuery||(query=jQuery);if(!query)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return query}function attachResponsiveImage(element){function check(){var imageToDisplay=!1;for(i in children)children.hasOwnProperty(i)&&rules[i].minWidth&&element.offsetWidth>rules[i].minWidth&&(imageToDisplay=i);imageToDisplay||(imageToDisplay=defaultImageId);if(lastActiveImage!==imageToDisplay)if(loadedImages[imageToDisplay])children[lastActiveImage].style.display=
"none",children[imageToDisplay].style.display="block",lastActiveImage=imageToDisplay;else{var i=new Image;i.onload=function(){children[imageToDisplay].src=sources[imageToDisplay];children[lastActiveImage].style.display="none";children[imageToDisplay].style.display="block";loadedImages[imageToDisplay]=!0;lastActiveImage=imageToDisplay};i.src=sources[imageToDisplay]}else children[imageToDisplay].src=sources[imageToDisplay]}var children=[],rules=[],sources=[],defaultImageId=0,lastActiveImage=-1,loadedImages=
[],i$jscomp$0;for(i$jscomp$0 in element.children)if(element.children.hasOwnProperty(i$jscomp$0)&&element.children[i$jscomp$0].tagName&&"img"===element.children[i$jscomp$0].tagName.toLowerCase()){children.push(element.children[i$jscomp$0]);var minWidth=element.children[i$jscomp$0].getAttribute("min-width")||element.children[i$jscomp$0].getAttribute("data-min-width"),src=element.children[i$jscomp$0].getAttribute("data-src")||element.children[i$jscomp$0].getAttribute("url");sources.push(src);rules.push({minWidth});
minWidth?element.children[i$jscomp$0].style.display="none":(defaultImageId=children.length-1,element.children[i$jscomp$0].style.display="block")}lastActiveImage=defaultImageId;element.resizeSensorInstance=new ResizeSensor(element,check);check()}function findResponsiveImages(){for(var elements=getQuery()("[data-responsive-image],[responsive-image]"),i=0,j=elements.length;i<j;i++)attachResponsiveImage(elements[i])}function extractQuery(css){var match,attrMatch;for(css=css.replace(/'/g,'"');null!==(match=
regex.exec(css));){var smatch=match[1]+match[3];for(match=match[2];null!==(attrMatch=attrRegex.exec(match));){var selector=smatch,mode=attrMatch[1],property=attrMatch[2];attrMatch=attrMatch[3];if("undefined"===typeof allQueries[selector]){allQueries[selector]=[];var id=idToSelectorMapping.length;cssStyleElement.innerHTML+="\n"+selector+" {animation: 0.1s element-queries;}";cssStyleElement.innerHTML+="\n"+selector+" \x3e .resize-sensor {min-width: "+id+"px;}";idToSelectorMapping.push(selector)}allQueries[selector].push({mode,
property,value:attrMatch})}}}function readRules(rules){if(rules)if("string"===typeof rules)rules=rules.toLowerCase(),-1===rules.indexOf("min-width")&&-1===rules.indexOf("max-width")||extractQuery(rules);else for(var i=0,j=rules.length;i<j;i++)if(1===rules[i].type){var selector=rules[i].selectorText||rules[i].cssText;-1!==selector.indexOf("min-height")||-1!==selector.indexOf("max-height")?extractQuery(selector):(-1!==selector.indexOf("min-width")||-1!==selector.indexOf("max-width"))&&extractQuery(selector)}else 4===
rules[i].type?readRules(rules[i].cssRules||rules[i].rules):3===rules[i].type&&rules[i].styleSheet.hasOwnProperty("cssRules")&&readRules(rules[i].styleSheet.cssRules)}var cssStyleElement,allQueries={},idToSelectorMapping=[],regex=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/mgi,attrRegex=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/mgi,defaultCssInjected=!1;this.init=function(){var animationStart=
"animationstart";"undefined"!==typeof document.documentElement.style.webkitAnimationName?animationStart="webkitAnimationStart":"undefined"!==typeof document.documentElement.style.MozAnimationName?animationStart="mozanimationstart":"undefined"!==typeof document.documentElement.style.OAnimationName&&(animationStart="oanimationstart");document.body.addEventListener(animationStart,function(e){var element=e.target,styles=element&&window.getComputedStyle(element,null);(styles=styles&&styles.getPropertyValue("animation-name"))&&
-1!==styles.indexOf("element-queries")&&(element.elementQueriesSensor=new ResizeSensor(element,function(){element.elementQueriesSetupInformation&&element.elementQueriesSetupInformation.call()}),styles=window.getComputedStyle(element.resizeSensor,null).getPropertyValue("min-width"),styles=parseInt(styles.replace("px","")),setupElement(e.target,idToSelectorMapping[styles]))});defaultCssInjected||(cssStyleElement=document.createElement("style"),cssStyleElement.type="text/css",cssStyleElement.innerHTML=
"[responsive-image] \x3e img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] \x3e img, [data-responsive-image] \x3e img {width: 100%;}",cssStyleElement.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(cssStyleElement),defaultCssInjected=!0);animationStart=0;for(var j=document.styleSheets.length;animationStart<j;animationStart++)try{document.styleSheets[animationStart].href&&0===document.styleSheets[animationStart].href.indexOf("file://")&&
console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[animationStart].href),readRules(document.styleSheets[animationStart].cssRules||document.styleSheets[animationStart].rules||document.styleSheets[animationStart].cssText)}catch(e){}findResponsiveImages()};this.findElementQueriesElements=function(container){var query=getQuery(container),selector;for(selector in allQueries)if(allQueries.hasOwnProperty(selector))for(var elements=query(selector,container),i=0,j=elements.length;i<
j;i++)setupElement(elements[i],selector)};this.update=function(){this.init()}};ElementQueries.update=function(){ElementQueries.instance.update()};ElementQueries.detach=function(element){element.elementQueriesSetupInformation?(element.elementQueriesSensor.detach(),delete element.elementQueriesSetupInformation,delete element.elementQueriesSensor):element.resizeSensorInstance&&(element.resizeSensorInstance.detach(),delete element.resizeSensorInstance)};ElementQueries.init=function(){ElementQueries.instance||
(ElementQueries.instance=new ElementQueries);ElementQueries.instance.init()};var domLoaded=function(callback){if(document.addEventListener)document.addEventListener("DOMContentLoaded",callback,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var DOMLoadTimer=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(callback(),clearInterval(DOMLoadTimer))},10);else window.onload=callback};ElementQueries.findElementQueriesElements=function(container){ElementQueries.instance.findElementQueriesElements(container)};
ElementQueries.listen=function(){domLoaded(ElementQueries.init)};return ElementQueries})}
//# sourceMappingURL=module$node_modules$css_element_queries$src$ElementQueries.js.map
