{"version":3,"sources":["goldly/static/app.cljs"],"mappings":";AAQA,+BAAA,/BAAMA,qEAAWC;AAAjB,AACE,wDAAA,jDAACC,oIACCD,gBACD,wBAAA,xBAAiBE;;AAEpB,2BAAA,3BAAeC,6DAAOC;AAAtB,AACE,AAACC;;AACD,yGAAA,zGAACC,mJAAkDF;;AACnD,IAAMG,cAAY,AAACC,+CAAOJ;IACpBK,UAAQ,+CAAA,oBAAIF,pBAAYG,/CAAUF;IAClCG,YAAU,AAACC,4HAAcH;AAF/B,AAGE,AAAOE,eAAU,WAAKE;AAAL,AACV,IAAMb,UAAQ,AAACc,sCAAeP;AAA9B,AACE,oBAAIP;AACF,OAACD,6BAAUC;;AACX,gHAAA,zGAACM,oIAAmCC;;;;AAC/C,OAAQI,gBAAU,WAAKI;AAAL,AACE,gHAAA,zGAACT,sIAAqCG","names":["goldly.static.app/mount-app","page-fn","reagent.dom.render","js/document","goldly.static.app/start","symbol-page-as-string","cljs.core/enable-console-print!","cljs.core.println","page-symbol","cljs.core.symbol","libspec","cljs.core/namespace","require-p","goldly.sci.kernel_cljs.require_async","res","goldly.sci.kernel-cljs/resolve-symbol","err"],"sourcesContent":["(ns goldly.static.app\n  (:require\n   [reagent.dom]\n   [taoensso.timbre :refer-macros [info warn]]\n   [goldly.sci.kernel-cljs :refer [require-async resolve-symbol]]))\n\n; required in glodly.app.build\n\n(defn mount-app [page-fn]\n  (reagent.dom/render\n   [page-fn]\n   (.getElementById js/document \"app\")))\n\n(defn ^:export start [symbol-page-as-string]\n  (enable-console-print!)\n  (println \"starting goldly static app page symbol:\" symbol-page-as-string)\n  (let [page-symbol (symbol symbol-page-as-string)\n        libspec (-> page-symbol namespace symbol)\n        require-p (require-async libspec)]\n    (.then require-p (fn [res]\n           (let [page-fn (resolve-symbol page-symbol)]\n             (if page-fn\n               (mount-app page-fn)\n               (println \"could not resolve page: \" page-symbol)))))\n    (.catch require-p (fn [err]\n                        (println \"could not sci-require ns: \" libspec)))))\n\n"]}