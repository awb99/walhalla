{"version":3,"sources":["goldly/cljs/loader.cljs"],"mappings":"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","names":["p__54577","map__54578","cljs.core/--destructure-map","cljs.core.get","goldly.cljs.loader/compile-cljs-p","filename","code","taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","er-p","goldly.sci.kernel-cljs/compile-code-async","e","temp__5804__auto__","sci-err","goldly.sci.error/exception->error","goldly.sci.error/show-sci-error","er","goldly.cljs.loader/compile-cljs","opts","p","ch","cljs.core.async.chan","data","cljs.core.async.put_BANG_","goldly.cljs.loader/explore","static?","goldly.static/cljs-explore","goldly.service.core/run","goldly.cljs.loader/load-cljs-file","c__41247__auto__","cljs.core.async.impl.dispatch/run","f__41248__auto__","switch__41224__auto__","state_54611","state_val_54612","statearr-54613","statearr-54614","statearr-54615","inst_54583","inst_54584","inst_54585","cljs.core/PersistentVector","inst_54586","inst_54587","inst_54588","inst_54589","cljs.core/PersistentHashMap","inst_54590","statearr-54616","inst_54596","inst_54595","inst_54599","statearr-54617","inst_54581","statearr-54618","inst_54606","statearr-54619","inst_54594","inst_54597","statearr-54620","statearr-54621","statearr-54622","inst_54609","cljs.core.async.impl.ioc-helpers/return-chan","inst_54604","cljs.core.async.impl.ioc-helpers/take!","inst_54592","statearr-54623","inst_54602","statearr-54624","statearr-54625","statearr-54626","statearr-54627","state-machine__41225__auto__","ret-value__41226__auto__","result__41227__auto__","cljs.core/keyword-identical?","ex__41228__auto__","e54628","statearr-54629","cljs.core/seq","statearr-54630","cljs.core/first","state__41249__auto__","statearr-54631","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","goldly.static/get-code","goldly.cljs.loader/load-cljs","state_54678","state_val_54679","inst_54636","inst_54637","inst_54638","inst_54649","map__54632","inst_54650","inst_54651","inst_54652","inst_54653","inst_54654","inst_54655","statearr-54680","statearr-54681","inst_54633","inst_54643","statearr-54682","statearr-54683","statearr-54684","inst_54645","inst_54646","inst_54647","statearr-54685","inst_54640","inst_54641","statearr-54686","inst_54665","inst_54666","statearr-54687","statearr-54688","inst_54635","statearr-54689","statearr-54690","statearr-54691","inst_54659","inst_54660","inst_54661","inst_54662","inst_54663","statearr-54692","statearr-54693","statearr-54694","inst_54657","inst_54676","inst_54670","statearr-54695","inst_54672","statearr-54696","inst_54674","statearr-54697","statearr-54698","e54699","statearr-54700","statearr-54701","statearr-54702","result","error","cljs.core.pr_str","cljs.core/empty?","f","files","cljs.core/rest","r","re_frame.core.reg_event_fx","p__54703","vec__54704","cljs.core.nth","cofx","_","goldly.cljs.reload/reload-cljs"],"sourcesContent":["(ns goldly.cljs.loader\n  (:require\n   [taoensso.timbre :refer-macros [trace debug debugf info infof warn warnf error errorf]]\n   [cljs.core.async :refer [>! <! chan close! put!] :refer-macros [go]]\n   [re-frame.core :as rf]\n   [goldly.service.core :refer [run]]\n   [goldly.sci.kernel-cljs :refer [compile-code compile-code-async]]\n   [goldly.sci.error :refer [exception->error show-sci-error]]\n   [goldly.cljs.reload :refer [reload-cljs]]\n   [goldly.static :refer [cljs-explore get-code]]))\n\n;; compile\n\n#_(defn compile-cljs [{:keys [filename code]}]\n    (debug \"compiling: \" filename)\n    (let [r (compile-code code)]\n      (if-let [e (:error r)]\n        (show-sci-error filename e)\n        (debugf \"successfully compiled %s \" filename))))\n\n(defn compile-cljs-p [{:keys [filename code]}]\n  (info \"compiling-async: \" filename)\n  (let [er-p (compile-code-async code)]\n    (-> er-p\n        (.catch (fn [e]\n                  (error \"eval failed: \" e)\n                  (when-let [sci-err (exception->error e)]\n                    (show-sci-error filename sci-err)\n                    sci-err)))\n        (.then (fn [er]\n                 (infof \"successfully compiled %s \" filename)\n                 (when [er]\n                   (info \"cljs eval result:\" er)\n                   ;(reset! cur-ns (:ns er))\n                   er))))))\n\n(defn compile-cljs [opts]\n  (let [p (compile-cljs-p opts)\n        ch (chan)]\n    (.then p (fn [data]\n               (infof \"compile-code promise received:  %s\" data)\n               (put! ch 27)))\n    ch))\n\n;; websocket / static helper\n\n(defn explore [static?]\n  (if static?\n    (cljs-explore)\n    (run {:fun 'goldly.app.run/cljs-explore})))\n\n(defn load-cljs-file [static? filename]\n  (info \"loading cljs file: \" filename)\n  (go\n    (let [{:keys [error result] :as r}\n          (<! (if static?\n                (get-code filename)\n                (run {:fun 'goldly.cljs.loader/load-file-or-res!\n                      :args [filename]})))]\n      (when error\n        (error \"error loading cljs: \" r))\n      (when result\n        (<! (compile-cljs result))))))\n\n; called from goldly.system.ws after ws connected:\n(defn load-cljs [static?]\n  (info \"load-cljs static?: \" static?)\n  (go\n    (let [{:keys [result error]} (<! (explore static?))]\n      (if error\n        (error \"error getting cljs files: \" (pr-str error))\n        (if (empty? result)\n          (warn \"no autoload cljs files available!\")\n          (do\n            (info \"autoload sci-cljs files: \" (pr-str result))\n            (loop [f (first result)\n                   files (rest result)]\n              (let [r (<! (load-cljs-file static? f))]\n                (info \"compile result: \" r))\n              (when (seq files)\n                (recur (first files)\n                       (rest files))))))))))\n\n; this does not trigger. I believe due to a bug in sente\n#_(defmethod -event-msg-handler :goldly/cljs-sci-reload\n    [{:keys [?data event data] :as ev-msg}] ;  ?data\n    (let [[_ result] event]\n  ; \n      (infof \"cljs-sci-reload received: %s\" ev-msg)\n      (compile-cljs result)\n ; \n      ))\n\n(rf/reg-event-fx\n :goldly/cljs-sci-reload\n (fn [cofx [_ result]]\n   (infof \"cljs-sci-reload received: %s\" (:filename result))\n   (compile-cljs result)\n   (reload-cljs)\n   nil))\n"]}