{"version":3,"sources":["frontend/dialog.cljs"],"mappings":";AAWA,yDAAA,zDAACA,wHAEA,cAAAC,HAAKG;AAAL,AAAA,IAAAF,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASG;YAAT,AAAAF,4CAAAD,WAAA,IAAA,nEAAWI;WAAX,AAAAH,4CAAAD,WAAA,IAAA,lEAAiBK;YAAjB,AAAAJ,4CAAAD,WAAA,IAAA,nEAAsBM;AAAtB,AACE,6BAAA,mFAAA,gEAAA,2CAAA,uDAAA,KAAA,4DAAA,5UAACC,mBAASL,mTAEQE,6DACA,iBAAAI,mBAAIF;AAAJ,AAAA,oBAAAE;AAAAA;;AAAA;;KAHlB,qDAIiB,iBAAAA,mBAAIH;AAAJ,AAAA,oBAAAG;AAAAA;;AAAA;;;;AAEpB,yDAAA,zDAACV,yHAEA,cAAAW,HAAKP;AAAL,AAAA,IAAAQ,aAAAD;QAAA,AAAAR,4CAAAS,WAAA,IAAA,/DAASP;AAAT,AACE,IAAAQ,aAA4B,AAAA,sFAAQT;IAApCS,iBAAA,AAAAC,4BAAAD;kBAAA,AAAAE,4CAAAF,eAAA,zEAAcG;YAAd,AAAAD,4CAAAF,eAAA,nEAAoBL;AAApB,AACE,oBAAIQ;AACF,AAAI,oBAAMR;AAAN,AACE,AAACS,uBAAST;;AADZ;;AAEA,6BAAA,mFAAA,gEAAA,2CAAA,uDAAA,MAAA,sDAAA,KAAA,qDAAA,4DAAA,uDAAA,pfAACC,mBAASL;;AAIdA;;;AAEP,8BAAA,sCAAAc,pEAAME;AAAN,AAAA,IAAAD,aAAAD;IAAAC,iBAAA,AAAAL,4BAAAK;YAAA,AAAAJ,4CAAAI,eAAA,nEACWb;WADX,AAAAS,4CAAAI,eAAA,lEACiBZ;AADjB,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,wBAAA,mFAAA,mDAAA,2CAAA,wDAAA,iBAAA,6DAIoB,WAAKc;AAAL,AACE,uBAAA,mFAAA,1GAACJ;;AACD,AAAiBI;;AACjB,OAAkBA;mBAPxC,mFAAA,mDAAA,2CAAA,wDAAA,cAAA,uDAAA,2CAAA,uDASyB,iBAAAC,WAAMf;IAANe,eAAA,EAAA,CAAAA,oBAAAC,oBAAA,AAAAD,aAAA;AAAA,AAAA,QAAAA;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;KAAA;AAAA;;;;AAAA;;;qBAKWhB;;AAEpC,0BAAA,1BAACkB,kFAEA,WAAKpB,GAAGC;AAAR,AAAW,OAAAoB,4BAAA;AAAA,AAAU,OAAA,sFAAA,AAAAC,gBAAStB;;;AAE/B,kCAAA,lCAAMuB;AAAN,AACE,IAAMC,QAAM,sDAAA,mFAAA,zIAACC;AAAb,AACE;AAAA,AAAA,0FAAA,mDAEG,gIAAA,AAAA,+GAAA,AAAAH,+BAAA,5PAAM,AAAA,qFAAA,AAAAA,gBAASE,4FACZR,4CAAaQ","names":["re_frame.core.reg_event_db","p__44986","vec__44987","cljs.core.nth","db","_","child","size","close","cljs.core/assoc-in","or__5045__auto__","p__44990","vec__44991","map__44994","cljs.core/--destructure-map","cljs.core.get","show?","re-frame.core/dispatch","p__44995","map__44996","frontend.dialog/modal-panel","event","G__44999","cljs.core/Keyword","re-frame.core/reg-sub-raw","reagent.ratom/make-reaction","cljs.core/deref","frontend.dialog/modal-container","modal","re_frame.core.subscribe"],"sourcesContent":["(ns frontend.dialog\n  (:require-macros [reagent.ratom :refer [reaction]])\n  (:require\n   [re-frame.core :refer [reg-sub-raw reg-event-db dispatch subscribe]]))\n\n; stolen from:\n; https://github.com/benhowell/re-frame-modal\n\n; todo: incorporate this\n; https://www.creative-tim.com/learning-lab/tailwind-starter-kit/documentation/vue/modals/small\n\n(reg-event-db\n :modal/open\n (fn [db [_ child size close]]\n   (assoc-in db [:modal]\n             {:show? true\n              :child child\n              :close (or close nil) ; optionally dispatch on close reframe event\n              :size (or size :default)})))\n\n(reg-event-db\n :modal/close\n (fn [db [_]]\n   (let [{:keys [show? close]} (:modal db)]\n     (if show?\n       (do (when close\n             (dispatch close))\n           (assoc-in db [:modal] {:show? false\n                                  :child nil\n                                  :size :default\n                                  :close nil}))\n       db))))\n\n(defn modal-panel\n  [{:keys [child size]}]\n  [:div {:class \"modal-wrapper\"}\n   [:div {:class \"modal-backdrop\"\n          :on-click (fn [event]\n                      (dispatch [:modal/close])\n                      (.preventDefault event)\n                      (.stopPropagation event))}]\n   [:div {:class \"modal-child\"\n          :style {:width (case size\n                           :extra-small \"15%\"\n                           :small \"30%\"\n                           :large \"70%\"\n                           :extra-large \"85%\"\n                           \"50%\")}} child]])\n\n(reg-sub-raw\n :modal\n (fn [db _] (reaction (:modal @db))))\n\n(defn modal-container []\n  (let [modal (subscribe [:modal])]\n    (fn []\n      [:div\n       (when (:show? @modal)\n         [modal-panel @modal])])))\n\n\n\n\n\n\n\n"],"x_google_ignoreList":[0]}