{"version":3,"sources":["pinkie/error.cljs"],"mappings":";AAeA,8BAAA,9BAAMA,oEAAgBC;AAAtB,AACE,IAAMC,QAAM,gDAAA,hDAACC;IACPC,OAAK,gDAAA,hDAACD;AADZ,AAEE,+DAAA,2CAAA,nGAACE,qLACsB,WAAKJ,MAAGA,MAAEK;AAAV,AAEE,yGAAA,zGAACC,wIAAuCD;;AACxC,OAACE,sBAAOJ,KAAKE;GAJtC,qGAMgC,WAAKG;AAAL,AAGE,AAACD,sBAAON,MAAMO;;AAHhB;GANhC,yEAWkB,WAAKC;AAAL,AACE,oBAAA,AAAAC,gBAAKT;AAAL,0FAAA,yEAAA,UAGG,kBAAA,AAAAS,wBAAA,qIAAA,7IAAOT,QAAM,wGAAA,AAAAS,xGAACC,wHAAQV;;AACvBQ","names":["pinkie.error/error-boundary","_","error","reagent.core.atom","info","reagent.core.create_class","i","cljs.core.println","cljs.core/reset!","e","comp","cljs.core/deref","cljs.core.pr_str"],"sourcesContent":["(ns pinkie.error\n  (:require\n   [reagent.core :as reagent]\n      ;[re-catch.core :as rc]\n   ))\n; shows how to impement error boundary:\n; https://github.com/reagent-project/reagent/blob/c214466bbcf099eafdfe28ff7cb91f99670a8433/test/reagenttest/testreagent.cljs\n\n; from component-did-catch\n; #js {:componentStack \n       ; cmp@http://localhost:8000/r/cljs-runtime/reagent.impl.component.js:508:43\n       ; cmp@http://localhost:8000/r/cljs-runtime/reagent.impl.component.js:508:43\n       ; cmp@http://localhost:8000/r/cljs-runtime/reagent.impl.component.js:508:43\n       ; div\n\n(defn error-boundary [_ #_comp]\n  (let [error (reagent/atom nil)\n        info (reagent/atom nil)]\n    (reagent/create-class\n     {:component-did-catch (fn [_  _ i] #_this #_e  ; [this e i]\n                             ; i is a js object with stacktrace\n                             (println \"pinkie component did catch: \" i)\n                             (reset! info i))\n\n      :get-derived-state-from-error (fn [e]\n                                      ; to saves the exception data; gets shows in the dom\n                                      ;(println \"pinkie component get-derived-state-from-error: \" e)\n                                      (reset! error e)\n                                      #js {})\n      :reagent-render (fn [comp]\n                        (if @error\n                          [:div.bg-red-300\n                           \"Error: \"\n                           (when @error (pr-str @error))]\n                          comp))})))\n\n"],"x_google_ignoreList":[0]}