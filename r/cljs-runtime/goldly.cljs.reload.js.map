{"version":3,"sources":["goldly/cljs/reload.cljs"],"mappings":";AAUA,uCAAA,vCAAMA;AAAN,AAAA,0FAAA,mDAAA;;AAGA,AAAAC,uEAAA,6EAAA,WAAAC;AAAA,AAAA,IAAAC,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;YAAAA,RAA4FM;mBAA5F,AAAAJ,4CAAAF,eAAA,1EAAqDG;mBAArD,AAAAD,4CAAAF,eAAA,1EAAkEI;cAAlE,AAAAF,4CAAAF,eAAA,rEAA+EK;AAA/E,AAAA,0FACGR;;AAEH,iCAAA,jCAAMU;AAAN,AACE,QAAA,AAAAC,JAAMC,oBAAGC;AAAT,AACE,AAAAC,0DAAAC,mCAAA,qDAAA,qBAAA,KAAA,GAAA,8CAAA,qDAAA,KAAAC,gBAAA;AAAA,AAAA,0FAAA,WAAiBJ;GAAjB,OAAA,KAAA,MAAA;;AACA,uBAAA,mFAAA,0DAAA,pKAACK;;AACD,uBAAA,mFAAA,1GAACA,kLAA8BL;;AAE/B,OAACM","names":["goldly.cljs.reload/reloading-cljs-ui","frontend.page/reagent-page","p__55076","map__55077","cljs.core/--destructure-map","cljs.core.get","route-params","query-params","handler","route","goldly.cljs.reload/reload-cljs","cljs.core/deref","c","frontend.routes/current","taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","re-frame.core/dispatch","webly.app.views/refresh-page"],"sourcesContent":["(ns goldly.cljs.reload\n  (:require\n   [re-frame.core :as rf]\n   [taoensso.timbre :refer-macros [trace debug debugf info infof warn warnf error errorf]]\n   ;[reagent.impl.batching :refer [flush]] ; flushing does not help.\n   [bidi.bidi :as bidi]\n   [frontend.routes :refer [current]]\n   [frontend.page :refer [reagent-page]]\n   [webly.app.views :refer [refresh-page]]))\n\n(defn reloading-cljs-ui []\n  [:div \"reloading cljs (sci) code\"])\n\n(defmethod reagent-page :goldly/reload-cljs [{:keys [route-params query-params handler] :as route}]\n  [reloading-cljs-ui])\n\n(defn reload-cljs []\n  (let [c @current]\n    (warn \"reload: \" c)\n    (rf/dispatch [:bidi/goto :goldly/reload-cljs])\n    (rf/dispatch [:bidi/goto-route c])\n    ;(flush) ; does not work\n    (refresh-page)))"]}