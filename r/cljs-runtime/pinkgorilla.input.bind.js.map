{"version":3,"sources":["pinkgorilla/input/bind.cljs"],"mappings":";AAIA,8BAAA,9BAAMA,oEAAMC;AAAZ,AACE,kBAAAC,SAAqCM,EAAEC;AAAvC,AAAA,IAAAN,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;cAAAA,VAA4BI;gBAA5B,AAAAF,4CAAAF,eAAA,vEAAaG;AAAb,AACE,IAAMI,MAAI,gGAAA,AAAAC,9EAAIF,MACF,+CAAA,AAAAE,/CAACC,+DAAQJ,GAAEC,sBACVD;IACPK,gBAAc,WAAKC;AAAL,AACE,oBAAIL;AACF,AAACM,mDAAMP,EAAEQ,mBAASP,KAAKK;;AACvB,AAACG,sBAAOT,EAAEM;;;AAEZ,oBAAMR;AAAN,AACE,QAACA,0CAAAA,6CAAAA,LAAUQ,yBAAAA;;AADb;;;AARtB,AAAA,0FAUGb,QAAQ,+GAAA,2CAAA,6EAAA,vOAACiB,uGAAMX,kHACYM,oEACJH","names":["pinkgorilla.input.bind/bind","control","p__54497","map__54498","cljs.core/--destructure-map","cljs.core.get","on-change","options","a","path","val","cljs.core/deref","cljs.core.get_in","change-val-fn","v","cljs.core.swap_BANG_","cljs.core/assoc-in","cljs.core/reset!","cljs.core.merge"],"sourcesContent":["(ns pinkgorilla.input.bind\n  (:require\n   [taoensso.timbre :as timbre :refer-macros [trace debug debugf info infof warn error]]))\n\n(defn bind [control]\n  (fn [{:keys [on-change] :as options} a path]\n    (let [val (if path\n                (get-in @a path)\n                @a)\n          change-val-fn (fn [v]\n                          (if path\n                            (swap! a assoc-in path v)\n                            (reset! a v))\n                          ;(info \"control changed to: \" v)\n                          (when on-change\n                            (on-change v)))]\n      [control (merge options\n                      {:on-change change-val-fn\n                       :value val})])))"],"x_google_ignoreList":[0]}