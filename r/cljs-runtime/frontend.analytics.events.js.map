{"version":3,"sources":["frontend/analytics/events.cljs"],"mappings":";AAMA,yDAAA,zDAACA,kHAEA,cAAAC,HAAKG;AAAL,AAAA,IAAAF,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASG;AAAT,AACE,IAAAC,mBAAkC,kDAAA,mFAAA,wDAAA,7LAACM,+CAAOR;IAA1CE,uBAAA,AAAAC,4BAAAD;oBAAA,AAAAE,4CAAAF,qBAAA,jFAAcG;eAAd,AAAAD,4CAAAF,qBAAA,5EAAsBI;yBAAtB,AAAAF,4CAAAF,qBAAA,tFAAyBK;AAAzB,AACE,oBAAIF;AACF,AACE,AAAAI,0DAAAC,mCAAA,qDAAA,4BAAA,KAAA,GAAA,8CAAA,qDAAA,KAAAC,gBAAA;AAAA,AAAA,0FAAA,wBAAA,TAAqBL,qBAAeC;GAApC,OAAA,KAAA,MAAA;;AAGF,AAAAE,0DAAAC,mCAAA,wDAAA,4BAAA,KAAA,GAAA,8CAAA,qDAAA,KAAAC,gBAAA;AAAA,AAAA,0FAAA;GAAA,OAAA,KAAA,MAAA;;;AACJX;;AAEH,yDAAA,zDAACJ,kHAEA,cAAAgB,HAAKZ;AAAL,AAAA,IAAAa,aAAAD;QAAA,AAAAb,4CAAAc,WAAA,IAAA,/DAASZ;IAATa,aAAA,AAAAf,4CAAAc,WAAA,IAAA;IAAAC,iBAAA,AAAAX,4BAAAW;eAAA,AAAAV,4CAAAU,eAAA,tEAAmBC;aAAnB,AAAAX,4CAAAU,eAAA,pEAA4BE;YAA5B,AAAAZ,4CAAAU,eAAA,nEAAmCG;YAAnC,AAAAb,4CAAAU,eAAA,nEAAyCI;AAAzC,AACE,IAAAC,mBAAwB,kDAAA,mFAAA,wDAAA,7LAACX,+CAAOR;IAAhCmB,uBAAA,AAAAhB,4BAAAgB;oBAAA,AAAAf,4CAAAe,qBAAA,jFAAcd;iBAAd,2CAAA,kFAAA,yEAAA,nNACMe,iIAAsBL,4EACHE,4DACNC;AAHnB,AAIE,oBAAMb;AAAN,AACE,AAAAI,0DAAAC,mCAAA,qDAAA,4BAAA,KAAA,GAAA,8CAAA,qDAAA,KAAAC,gBAAA;AAAA,AAAA,0FAAA,gBAAsBI;GAAtB,OAAA,KAAA,MAAA;;AAEA,AAACM,yCAAWL,OAAOI;;AAHrB;;AAIFpB","names":["re_frame.core.reg_event_db","p__44985","vec__44986","cljs.core.nth","db","_","map__44991","cljs.core/--destructure-map","cljs.core.get","enabled","id","debug?","cljs.core.get_in","taoensso.timbre._log_BANG_","taoensso.timbre/*config*","cljs.core/Delay","p__45012","vec__45013","map__45016","category","action","label","value","map__45020","data","frontend.analytics.google-tag/send-event"],"sourcesContent":["(ns frontend.analytics.events\n  (:require\n   [taoensso.timbre :refer-macros [debug info warn error]]\n   [re-frame.core :refer [reg-event-db]]\n   [frontend.analytics.google-tag :refer [send-event]]))\n\n(reg-event-db\n :ga/init\n (fn [db [_]]\n   (let [{:keys [enabled id debug?]} (get-in db [:config :google-analytics])]\n     (if enabled\n       (do\n         (info \"ga init id: \" id \" debug?: \" debug?)\n         ;(ga-init id debug?)\n         )\n       (debug \"google analytics disabled.\")))\n   db))\n\n(reg-event-db\n :ga/event\n (fn [db [_ {:keys [category action label value]}]]\n   (let [{:keys [enabled]} (get-in db [:config :google-analytics])\n         data {:event_category category\n               :event_label label\n               :value value}]\n     (when enabled\n       (info \"ga send event\" category)\n       ;(gtag \"event\" (name category)); label value (clj->js fields-object)\n       (send-event action data)))\n   db))\n"],"x_google_ignoreList":[0]}