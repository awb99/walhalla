{"version":3,"sources":["pinkgorilla/repl/cljs/js_interop.cljs"],"mappings":";;;;AAMA;;;;;4CAAA,5CAAMA,gGAIHC,IAAIC;AAJP,AAKE,IAAA,AACE,IAAME,IAAE,iBAAAC,WAAOJ;AAAP,AAAA,GAAA,GAAA,CAAAI,YAAA;AAAA,QAAAA,SAAA,AAAAC,yCAAWJ;;AAAXK;;;AAAR,AACE,AAAeH;;AACfA;gBAHJ,GAAA,CAAAD,kBAISK;AAJT,QAAAL,JAIsBM;AAJtB,AAAA,AAAA;;AAAA,AAAA,MAAAN;;;;AASF,+CAAA,/CAAMO,sGAAUC;AAAhB,sDACM,WAAKC,OAAOC,xEAKZ,OAACI;AALD,AACE,IAAMb,IAAE,CAAMO,EAAEE;AAAhB,AACE,GAAI,6CAAA,7CAACC,wDAAa,AAACC,YAAYX;AAC7BQ;;AACA,OAACI,8CAAMJ,OAAOC,IAAIT;;GACxB,mCAAW,AAACc,iEAAoBP","names":["pinkgorilla.repl.cljs.js-interop/value-of","obj","k","e50784","v","obj50785","applied-science.js-interop.impl/wrap-key","js/undefined","js/Error","_","pinkgorilla.repl.cljs.js-interop/obj->clj","x","result","key","cljs.core._EQ_","goog/typeOf","cljs.core.assoc","cljs.core.reduce","pinkgorilla.repl.cljs.js_interop.goog$module$goog$object.getKeys"],"sourcesContent":["(ns pinkgorilla.repl.cljs.js-interop\n  (:require\n   [applied-science.js-interop :as j]\n   [goog]\n   [goog.object :as g]))\n\n(defn value-of\n  \"Safe access to a value at key a js object.\n   Returns `'forbidden` if reading the property would result in a `SecurityError`.\n   https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy\"\n  [obj k]\n  (try\n    (let [v (j/get obj k)]\n      (.-constructor v) ;; test for SecurityError\n      v)\n    (catch js/Error ^js _\n      'forbidden)))\n\n; ((value-of window 'y) 33)   (if y is a function)\n\n(defn obj->clj [x]\n  (-> (fn [result key]\n        (let [v (aget x key)]\n          (if (= \"function\" (goog/typeOf v))\n            result\n            (assoc result key v))))\n      (reduce {} (goog.object/getKeys x))))"],"x_google_ignoreList":[0]}